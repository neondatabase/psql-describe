const St=null,Ot=100,ta="E",At=!1,Tt=0,yt=1,Rt=2,bt=3,Dt=4,Ut=5,It=0,Ct=6,ht=0,wt=1,
Ht="f",na="b",sa="i",Ft="i",la="a",ia="e",ra="r",oa="S",pa="f",ca="T",ga="n",fa="\
a",_a="d",da="s",$="r",se="i",ua="S",_e="t",ye="v",z="m",Ce="c",X="f",j="p",Z="I",
Wt=20,vt=21,kt=23,xt=26,Mt=28,Pt=29,Jt=5069,Yt=700,qt=701,Bt=790,jt=1700;let O,o,
ee;export function describeDataToString(t){return t.map(s=>typeof s=="string"?s:
La(s)).join(`

`)}function Q(t){const s=t.indexOf("\0");return s!==-1?t.slice(0,s):t}function he(t){
if(Array.isArray(t))for(let s=0,a=t.length;s<a;s++)t[s]=he(t[s]);else if(typeof t==
"object"&&t!==null)for(let s in t)t[s]=he(t[s]);else if(typeof t=="string")return Q(
t);return t}function xe(t,s,a,n="",l=""){const e=Math.max(0,s-le(t));return a===
"r"?n+" ".repeat(e)+t+l:a==="c"?n+" ".repeat(Math.floor(e/2))+t+" ".repeat(Math.
ceil(e/2))+l:n+t+" ".repeat(e)+l}function Ea(t,s){let a=0;const n=t.length,l=[];
for(;a<n;)l.push(t.slice(a,a+=s));return l}function Na(t){let s=-1,a=0,n=1,l=0;for(;(s=
t.indexOf(`
`,s+1))!==-1;)s-a>l&&(l=s-a),a=s+1,n++;return t.length-a>l&&(l=t.length-a),{count:n,
longest:l}}function La(t){const{ncolumns:s,nrows:a,aligns:n,footers:l}=t,e=[...t.
headers,...t.cells].map(Na),{colWidths:r,rowHeights:d}=e.reduce((N,T,y)=>{const I=Math.
floor(y/t.ncolumns),v=y%t.ncolumns;return T.longest>N.colWidths[v]&&(N.colWidths[v]=
T.longest),T.count>N.rowHeights[I]&&(N.rowHeights[I]=T.count),N},{colWidths:new Array(
s).fill(0),rowHeights:new Array(a+1).fill(1)}),f=r.reduce((N,T)=>N+T,0)+s*2+(s-1),
L=xe(t.title,f,"c"),p=[t.headers,null,...Ea(t.cells,s)],m=p.map((N,T)=>{if(T===1)
return t.headers.map((I,v)=>"-".repeat(r[v%s]+2)).join("+");T>1&&T--;const y=N.map(
I=>I.split(`
`));return new Array(d[T]).fill("").map((I,v)=>y.map((h,G)=>xe(h[v]??"",r[G],T===
0?"c":n[G]," ",h[v+1]===void 0?" ":"+")).join("|")).join(`
`)}).join(`
`);return`${L}
${m}${l?`
`+l.join(`
`):""}`}export async function describe(t,s,a,n,l=!1,e=14e4,r=1){const d=p=>p,f={};
for(let p in t.types.builtins)f[p]=t.types.getTypeParser(t.types.builtins[p]),t.
types.setTypeParser(t.types.builtins[p],d);ee=[],o={sversion:e,db:{dbName:a,sversion:e,
std_strings:r,status:0,encoding:6},popt:{topt:{default_footer:!1},nullPrint:""}},
O=p=>{const m=Q(p);return l&&ee.push(`/******** QUERY *********/
${m}
/************************/`),n(m)};const L=s.match(/^\\(d\S*)(.*)/);if(L){let[,p,
m]=L;p+="\0",m+="\0";const N=[m,0];await Da(N,!0,p)===0&&ee.push(`invalid comman\
d \\${p}`);let y,I=[];for(;y=ue(N,0,null,!0);)I.push(Q(q('\\%s: extra argument "%\
s" ignored',p,y)));I.length>0&&ee.push(I.join(`
`))}else ee.push(`unsupported describe command: ${s}`);for(let p in t.types.builtins)
t.types.setTypeParser(t.types.builtins[p],f[p]);return he(ee)}function Qt(t){return t}
function J(t,s){return Re(t,s)}function Re(t,s){const a=t.indexOf(Q(s));return a===
-1?null:a}function le(t){const s=t.indexOf("\0");return s===-1?t.length:s}function b(t,s){
return we(t,s,1/0)}function we(t,s,a){if(typeof t!="string"||typeof s!="string")
throw new Error("Not a string");return t=Q(t),t.length>a&&(t=t.slice(0,a)),s=Q(s),
s.length>a&&(s=s.slice(0,a)),t<s?-1:t>s?1:0}function ma(t,s){const a=le(t);for(let n=0;n<
a;n++)if(s.indexOf(t[n])===-1)return n;return a}function Me(t){return parseInt(t,
10)}function Pe(t){return parseInt(t,10)}function zt(t){return t}function Je(t){
return t===" "||t==="	"||t===`
`||t==="\r"}function Sa(t){return t==='"'||t==="'"}function Ye(t){return t?t.dbName:
null}function de(t){return!t||t.status===1?0:t.sversion}function qe(t){return!t||
t.status!=0?-1:t.client_encoding}function H(t){return t.rowCount}function Be(t){
return t.fields.length}function je(t,s){return t.fields[s].name}function Oa(t,s){
return t.fields[s].dataTypeID}function Y(t,s,a){return t.rows[s][a]===null?1:0}function g(t,s,a){
const n=t.rows[s][a];return String(n===null?"":n)}function ie(t,s){let a,n,l,e,r;
if(!t||s==null||s[0]=="\0")return-1;for(a=!1,l="",n=0,r=le(s);n<r;n++){let d=s[n];
a?d=='"'?s[n+1]=='"'?(l+='"',n++):a=!1:l+=d:d=='"'?a=!0:(d=He(d),l+=d)}for(l+="\0",
e=0,r=Be(t);e<r;e++)if(b(l,je(t,e))==0)return e;return-1}function Qe(t,s,a){return s}
function te(t){return 0}function Kt(t){return t}function ne(t,s,a,n){return t>=1e5?
s?a=q("%d.%d",Math.floor(t/1e4),t%1e4):a=q("%d",t/1e4):s?a=q("%d.%d.%d",Math.floor(
t/1e4),Math.floor(t/100)%100,t%100):a=q("%d.%d",Math.floor(t/1e4),Math.floor(t/100)%
100),a}function ue(t,s,a,n){if(s!==0)throw new Error(`scan type ${s} not yet imp\
lemented`);if(a!==null)throw new Error("cannot return quote type");const l=[],e=n?
/^(.*);*$/:/^(.*)$/;let r;for(;;){if(r=t[0][t[1]],r==="\0")return null;if(!Je(r))
break;t[1]++}let d="";for(;r=t[0][t[1]++];){if(r==="\0")return l.length>0?null:d.
match(e)[1]+"\0";if(Sa(r))r===l[l.length-1]?l.pop():l.push(r),r==='"'&&(d+=r);else{
if(l.length===0&&Je(r))return d.match(e)[1]+"\0";d+=r}}return null}function A(t){
t.data="\0",t.len=0}function ze(t){A(t)}function i(t,s){t.data=Q(t.data)+Q(s)+"\0",
t.len=t.data.length-1}function q(t,...s){let a="",n=0,l=0,e;for(;(e=t.indexOf("%",
l))!==-1;){let r=0;a+=t.slice(l,e),l=e+1;let d=t[l++];if(d==="%"&&(a+="%"),d==="\
*"&&(r=parseInt(s[n++],10),d=t[l++]),d==="s"||d==="c"||d==="d"||d==="u"){const f=Q(
String(s[n++])),L=r-f.length;L>0&&(a+=" ".repeat(L)),a+=f}}return a+=t.slice(l),
a=Q(a)+"\0",a}function _(t,s,...a){A(t),u(t,s,...a)}function u(t,s,...a){const n=q(
s,...a);i(t,n)}function W(t,...s){ee.push(q(t,...s))}function Vt(t,...s){ee.push(
q(t,...s))}function D(t,s,a,n,l,e,r,d,f,L){let p={},m={},N;if(A(p),N=Ke(o.db,t,s,
a,n,l,e,r,d,p,m),m=m.value,f&&(f.value=N),m>=L)return W("improper qualified name\
 (too many dotted names): %s",s),!1;if(L>1&&m==L-1){if(Ye(o.db)==null)return W("\
You are currently not connected to a database."),!1;if(b(Ye(o.db),p.data)!=0)return W(
"cross-database references are not implemented: %s",s),!1}return!0}function Ke(t,s,a,n,l,e,r,d,f,L,p){
let m={},N={},T=!1;return p||(p={}),p.value=0,a==null?(f&&(i(s,n?"  AND ":"WHERE\
 "),n=!0,T=!0,u(s,`%s
`,f)),T):(A(m),A(N),ya(qe(t),e?L:null,e?m:null,N,a,l,!0,p),r&&N.len>2&&b(N.data,
"^(.*)$")!=0&&(i(s,n?"  AND ":"WHERE "),n=!0,T=!0,d?(u(s,"(%s OPERATOR(pg_catalo\
g.~) ",r),be(s,N.data,t),de(t)>=12e4&&i(s," COLLATE pg_catalog.default"),u(s,`
        OR %s OPERATOR(pg_catalog.~) `,d),be(s,N.data,t),de(t)>=12e4&&i(s," COLL\
ATE pg_catalog.default"),i(s,`)
`)):(u(s,"%s OPERATOR(pg_catalog.~) ",r),be(s,N.data,t),de(t)>=12e4&&i(s," COLLA\
TE pg_catalog.default"),M(s,`
`))),e&&m.len>2?b(m.data,"^(.*)$")!=0&&e&&(i(s,n?"  AND ":"WHERE "),n=!0,T=!0,u(
s,"%s OPERATOR(pg_catalog.~) ",e),be(s,m.data,t),de(t)>=12e4&&i(s," COLLATE pg_c\
atalog.default"),M(s,`
`)):f&&(i(s,n?"  AND ":"WHERE "),n=!0,T=!0,u(s,`%s
`,f)),T)}function M(t,s){t.data=Q(t.data)+s+"\0",t.len++}function Ve(t,s,a,n){const l=s.
replace(n?/[']/g:/['\\]/g,"\\$&");t.data=Q(t.data)+"'"+Q(l)+"'\0",t.len=t.data.length-
1}function be(t,s,a){if(J(s,"\\")!=null&&de(a)>=80100){t.len>0&&t.data[t.len-1]!=
" "&&M(t," "),M(t,ta),Ve(t,s,qe(a),!1);return}Ve(t,s,a.encoding,a.std_strings)}function oe(t){
if(!t)throw new Error(`Assertion failed (value: ${t})`)}function Aa(t){const s=t.
charCodeAt(0);return s>=65&&s<=90}function P(t){return t.length}function He(t){return t.
toLowerCase()}function Ta(t,s){return b(t.toLowerCase(),s.toLowerCase())}function ya(t,s,a,n,l,e,r,d){
let f=[{},{},{}],L=0,p={},m={},N={},T,y,I;oe(l),oe(n),oe(!s||a),oe(d),d.value=0,
T=!1,I=l,s?N=2:a?N=1:N=0,m=f[L],r?(y=!0,A(p)):y=!1,A(m),i(m,"^(");let v=0,h;for(;(h=
I[v])!=="\0";)h=='"'?(T&&I[v+1]=='"'?(M(m,'"'),y&&M(p,'"'),v++):T=!T,v++):!T&&Aa(
h)?(M(m,He(h)),y&&M(p,He(h)),v++):!T&&h=="*"?(i(m,".*"),y&&M(p,"*"),v++):!T&&h==
"?"?(M(m,"."),y&&M(p,"?"),v++):!T&&h=="."?(y=!1,d.value++,L<N?(i(m,")$"),m=f[++L],
A(m),i(m,"^("),v++):(M(m,h),v++)):h=="$"?(i(m,"\\$"),y&&M(p,"$"),v++):(((T||e)&&
J("|*+?()[]{}.^$\\",h)!=null||h=="["&&I[v+1]=="]")&&M(m,"\\"),y&&M(p,h),M(m,h),v++);
i(m,")$"),n&&(i(n,m.data),m=f[--L]),a&&L>=0&&(i(a,m.data),m=f[--L]),s&&L>=0&&(r?
i(s,p.data):i(s,m.data))}function Ra(t){let s;switch(t){case 21:case 23:case 20:case 700:case 701:case 1700:case 26:case 28:case 5069:case 29:case 790:
s="r";break;default:s="l";break}return s}function w(t,s,a,n,l){let e={},r,d,f;for(De(
e,s.topt,s.title,Be(t),H(t)),oe(s.translate_columns==null||s.translate_columns==
null||s.n_translate_columns>=e.ncolumns),r=0;r<e.ncolumns;r++)K(e,je(t,r),s.translate_header,
Ra(Oa(t,r)));for(d=0;d<e.nrows;d++)for(f=0;f<e.ncolumns;f++){let L,p=!1,m;Y(t,d,
f)?L=s.nullPrint?s.nullPrint:"":(L=g(t,d,f),e.aligns[f]=="r"&&s.topt.numericLocale&&
(L=format_numeric_locale(L),p=!0)),m=s.translate_columns&&s.translate_columns[f],
x(e,L,m,p)}if(s.footers){let L,p=0;for(L=s.footers[p];L;p++)U(e,L)}Ue(e,a,n,l)}function De(t,s,a,n,l){
t.opt=s,t.title=a,t.ncolumns=n,t.nrows=l,t.headers=[],t.cells=[],t.footers=null,
t.aligns=[]}function K(t,s,a,n){a&&(s=s),t.headers.push(s),t.header=s,t.aligns.push(
n),t.align=n}function x(t,s,a,n){a&&(s=s),t.cells.push(s),t.cell=s}function U(t,s){
t.footers==null&&(t.footers=[]),t.footers.push(s),t.footer=s}function ba(t,s){t.
footers&&t.footers.pop(),U(t,s)}function Ue(t,s,a,n){ee.push({...t})}async function Da(t,s,a){
let n=2,l=!0;if(s){let e,r,d;switch(e=ue(t,0,null,!0),r=J(a,"+")!=null,d=J(a,"S")!=
null,a[1]){case"\0":case"+":case"S":e?l=await ka(e,r,d):l=await Xe("tvmsE",null,
r,d);break;case"A":{let f=null;switch(e&&a[2]!="\0"&&a[2]!="+"&&(f=ue(t,0,null,!0)),
a[2]){case"\0":case"+":l=await Ia(e,r);break;case"c":l=await ut(e,f,r);break;case"\
f":l=await Et(e,f,r);break;case"o":l=await Nt(e,f,r);break;case"p":l=await Lt(e,
f,r);break;default:n=0;break}}break;case"a":l=await Ua(e,r,d);break;case"b":l=await Ca(
e,r);break;case"c":we(a,"dconfig",7)==0?l=await ja(e,r,d):l=await Ba(e,r,d);break;case"\
C":l=await Ka(e,r);break;case"d":we(a,"ddp",3)==0?l=await Wa(e):l=await va(e,d);
break;case"D":l=await qa(e,r,d);break;case"f":switch(a[2]){case"\0":case"+":case"\
S":case"a":case"n":case"p":case"t":case"w":l=await Ge(t,a,e,r,d);break;default:n=
0;break}break;case"g":l=await $e(e,r,d);break;case"l":l=await mt(r);break;case"L":
l=await Ya(e,r,d);break;case"n":l=await Ga(e,r,d);break;case"o":l=await Ge(t,a,e,
r,d);break;case"O":l=await Va(e,r,d);break;case"p":l=await Fa(e,d);break;case"P":
switch(a[2]){case"\0":case"+":case"t":case"i":case"n":l=await Ja(a.slice(2),e,r);
break;default:n=0;break}break;case"T":l=await wa(e,r,d);break;case"t":case"v":case"\
m":case"i":case"s":case"E":l=await Xe(a[1],e,r,d);break;case"r":if(a[2]=="d"&&a[3]==
"s"){let f=null;e&&(f=ue(t,0,null,!0)),l=await Ma(e,f)}else a[2]=="g"?l=await Pa(
e,d):n=0;break;case"R":switch(a[2]){case"p":r?l=await _t(e):l=await ft(e);break;case"\
s":l=await dt(e,r);break;default:n=0}break;case"u":l=await $e(e,r,d);break;case"\
F":switch(a[2]){case"\0":case"+":l=await tt(e,r);break;case"p":l=await $a(e,r);break;case"\
d":l=await et(e,r);break;case"t":l=await at(e,r);break;default:n=0;break}break;case"\
e":switch(a[2]){case"s":l=await it(e,r);break;case"u":l=await rt(e,r);break;case"\
w":l=await lt(e,r);break;case"t":l=await ot(e,r);break;default:n=0;break}break;case"\
x":r?l=await ct(e):l=await pt(e);break;case"X":l=await za(e);break;case"y":l=await Qa(
e,r);break;default:n=0}}else ignore_slash_options(t);return l||(n=5),n}async function Ge(t,s,a,n,l){
let e,r=[],d=0;if(a){let f;for(;(f=ue(t,0,null,!0))!=null&&(r[d++]=f,!(d>=100));)
;}return s[1]=="f"?e=await ha(s.slice(2),a,r,d,n,l):e=await Ha(a,r,d,n,l),e}async function Ua(t,s,a){
let n={},l,e=o.popt;return A(n),_(n,`SELECT n.nspname as "%s",
  p.proname AS "%s",
  pg_catalog.format_type(p.prorettype, NULL) AS "%s",
  CASE WHEN p.pronargs = 0
    THEN CAST('*' AS pg_catalog.text)
    ELSE pg_catalog.pg_get_function_arguments(p.oid)
  END AS "%s",
`,"Schema","Name","Result data type","Argument data types"),o.sversion>=11e4?u(n,
`  pg_catalog.obj_description(p.oid, 'pg_proc') as "%s"
FROM pg_catalog.pg_proc p
     LEFT JOIN pg_catalog.pg_namespace n ON n.oid = p.pronamespace
WHERE p.prokind = 'a'
`,"Description"):u(n,`  pg_catalog.obj_description(p.oid, 'pg_proc') as "%s"
FROM pg_catalog.pg_proc p
     LEFT JOIN pg_catalog.pg_namespace n ON n.oid = p.pronamespace
WHERE p.proisagg
`,"Description"),!a&&!t&&i(n,`      AND n.nspname <> 'pg_catalog'
      AND n.nspname <> 'information_schema'
`),!D(n,t,!0,!1,"n.nspname","p.proname",null,"pg_catalog.pg_function_is_visible(\
p.oid)",null,3)||(i(n,"ORDER BY 1, 2, 4;"),l=await O(n.data),!l)?!1:(e.nullPrint=
null,e.title="List of aggregate functions",e.translate_header=!0,w(l,e,o.queryFout,
!1,o.logfile),!0)}async function Ia(t,s){let a={},n,l=o.popt,e=[!1,!0,!1,!1];if(o.
sversion<90600){let r;return W("The server (version %s) does not support access \
methods.",ne(o.sversion,!1,r,te(r))),!0}return A(a),_(a,`SELECT amname AS "%s",
  CASE amtype WHEN 'i' THEN '%s' WHEN 't' THEN '%s' END AS "%s"`,"Name","Index",
"Table","Type"),s&&u(a,`,
  amhandler AS "%s",
  pg_catalog.obj_description(oid, 'pg_am') AS "%s"`,"Handler","Description"),i(a,
`
FROM pg_catalog.pg_am
`),!D(a,t,!1,!1,null,"amname",null,null,null,1)||(i(a,"ORDER BY 1;"),n=await O(a.
data),!n)?!1:(l.nullPrint=null,l.title="List of access methods",l.translate_header=
!0,l.translate_columns=e,l.n_translate_columns=P(e),w(n,l,o.queryFout,!1,o.logfile),
!0)}async function Ca(t,s){let a={},n,l=o.popt;return A(a),_(a,`SELECT spcname A\
S "%s",
  pg_catalog.pg_get_userbyid(spcowner) AS "%s",
  pg_catalog.pg_tablespace_location(oid) AS "%s"`,"Name","Owner","Location"),s&&
(i(a,`,
  `),await V(a,"spcacl"),u(a,`,
  spcoptions AS "%s",
  pg_catalog.pg_size_pretty(pg_catalog.pg_tablespace_size(oid)) AS "%s",
  pg_catalog.shobj_description(oid, 'pg_tablespace') AS "%s"`,"Options","Size","\
Description")),i(a,`
FROM pg_catalog.pg_tablespace
`),!D(a,t,!1,!1,null,"spcname",null,null,null,1)||(i(a,"ORDER BY 1;"),n=await O(
a.data),!n)?!1:(l.nullPrint=null,l.title="List of tablespaces",l.translate_header=
!0,w(n,l,o.queryFout,!1,o.logfile),!0)}async function ha(t,s,a,n,l,e){let r=J(t,
"a")!=null,d=J(t,"n")!=null,f=J(t,"p")!=null,L=J(t,"t")!=null,p=J(t,"w")!=null,m,
N={},T,y=o.popt,I=[!1,!1,!1,!1,!0,!0,!0,!1,!0,!1,!1,!1,!1],v=[!1,!1,!1,!1,!0,!0,
!1,!0,!1,!1,!1,!1];if(le(t)!=ma(t,"anptwS+"))return W("\\df only takes [anptwS+] \
as options"),!0;if(f&&o.sversion<11e4){let h;return W('\\df does not take a "%c" \
option with server version %s',"p",ne(o.sversion,!1,h,te(h))),!0}!r&&!d&&!f&&!L&&
!p&&(r=d=L=p=!0,o.sversion>=11e4&&(f=!0)),A(N),_(N,`SELECT n.nspname as "%s",
  p.proname as "%s",
`,"Schema","Name"),o.sversion>=11e4?u(N,`  pg_catalog.pg_get_function_result(p.o\
id) as "%s",
  pg_catalog.pg_get_function_arguments(p.oid) as "%s",
 CASE p.prokind
  WHEN 'a' THEN '%s'
  WHEN 'w' THEN '%s'
  WHEN 'p' THEN '%s'
  ELSE '%s'
 END as "%s"`,"Result data type","Argument data types","agg","window","proc","fu\
nc","Type"):u(N,`  pg_catalog.pg_get_function_result(p.oid) as "%s",
  pg_catalog.pg_get_function_arguments(p.oid) as "%s",
 CASE
  WHEN p.proisagg THEN '%s'
  WHEN p.proiswindow THEN '%s'
  WHEN p.prorettype = 'pg_catalog.trigger'::pg_catalog.regtype THEN '%s'
  ELSE '%s'
 END as "%s"`,"Result data type","Argument data types","agg","window","trigger",
"func","Type"),l&&(u(N,`,
 CASE
  WHEN p.provolatile = 'i' THEN '%s'
  WHEN p.provolatile = 's' THEN '%s'
  WHEN p.provolatile = 'v' THEN '%s'
 END as "%s"`,"immutable","stable","volatile","Volatility"),o.sversion>=90600&&u(
N,`,
 CASE
  WHEN p.proparallel = 'r' THEN '%s'
  WHEN p.proparallel = 's' THEN '%s'
  WHEN p.proparallel = 'u' THEN '%s'
 END as "%s"`,"restricted","safe","unsafe","Parallel"),u(N,`,
 pg_catalog.pg_get_userbyid(p.proowner) as "%s",
 CASE WHEN prosecdef THEN '%s' ELSE '%s' END AS "%s"`,"Owner","definer","invoker",
"Security"),i(N,`,
 `),await V(N,"p.proacl"),u(N,`,
 l.lanname as "%s"`,"Language"),u(N,`,
 CASE WHEN l.lanname IN ('internal', 'c') THEN p.prosrc END as "%s"`,"Internal n\
ame"),u(N,`,
 pg_catalog.obj_description(p.oid, 'pg_proc') as "%s"`,"Description")),i(N,`
FROM pg_catalog.pg_proc p
     LEFT JOIN pg_catalog.pg_namespace n ON n.oid = p.pronamespace
`);for(let h=0;h<n;h++)u(N,`     LEFT JOIN pg_catalog.pg_type t%d ON t%d.oid = p\
.proargtypes[%d]
     LEFT JOIN pg_catalog.pg_namespace nt%d ON nt%d.oid = t%d.typnamespace
`,h,h,h,h,h,h);if(l&&i(N,`     LEFT JOIN pg_catalog.pg_language l ON l.oid = p.p\
rolang
`),m=!1,!(d&&r&&f&&L&&p))if(d)r||(m?i(N,"      AND "):(i(N,"WHERE "),m=!0),o.sversion>=
11e4?i(N,`p.prokind <> 'a'
`):i(N,`NOT p.proisagg
`)),!f&&o.sversion>=11e4&&(m?i(N,"      AND "):(i(N,"WHERE "),m=!0),i(N,`p.proki\
nd <> 'p'
`)),L||(m?i(N,"      AND "):(i(N,"WHERE "),m=!0),i(N,`p.prorettype <> 'pg_catalo\
g.trigger'::pg_catalog.regtype
`)),p||(m?i(N,"      AND "):(i(N,"WHERE "),m=!0),o.sversion>=11e4?i(N,`p.prokind\
 <> 'w'
`):i(N,`NOT p.proiswindow
`));else{let h=!1;i(N,`WHERE (
       `),m=!0,r&&(o.sversion>=11e4?i(N,`p.prokind = 'a'
`):i(N,`p.proisagg
`),h=!0),L&&(h&&i(N,"       OR "),i(N,`p.prorettype = 'pg_catalog.trigger'::pg_c\
atalog.regtype
`),h=!0),f&&(h&&i(N,"       OR "),i(N,`p.prokind = 'p'
`),h=!0),p&&(h&&i(N,"       OR "),o.sversion>=11e4?i(N,`p.prokind = 'w'
`):i(N,`p.proiswindow
`)),i(N,`      )
`)}if(!D(N,s,m,!1,"n.nspname","p.proname",null,"pg_catalog.pg_function_is_visibl\
e(p.oid)",null,3))return!1;for(let h=0;h<n;h++)if(b(a[h],"-")!=0){let G,pe,ce,ge;
if(G=q("nt%d.nspname",h),pe=q("t%d.typname",h),ce=q("pg_catalog.format_type(t%d.\
oid, NULL)",h),ge=q("pg_catalog.pg_type_is_visible(t%d.oid)",h),!D(N,Fe(a[h]),!0,
!1,G,pe,ce,ge,null,3))return!1}else u(N,`  AND t%d.typname IS NULL
`,h);return!e&&!s&&i(N,`      AND n.nspname <> 'pg_catalog'
      AND n.nspname <> 'information_schema'
`),i(N,"ORDER BY 1, 2, 4;"),T=await O(N.data),T?(y.nullPrint=null,y.title="List \
of functions",y.translate_header=!0,o.sversion>=90600?(y.translate_columns=I,y.n_translate_columns=
P(I)):(y.translate_columns=v,y.n_translate_columns=P(v)),w(T,y,o.queryFout,!1,o.
logfile),!0):!1}async function wa(t,s,a){let n={},l,e=o.popt;return A(n),_(n,`SE\
LECT n.nspname as "%s",
  pg_catalog.format_type(t.oid, NULL) AS "%s",
`,"Schema","Name"),s&&(u(n,`  t.typname AS "%s",
  CASE WHEN t.typrelid != 0
      THEN CAST('tuple' AS pg_catalog.text)
    WHEN t.typlen < 0
      THEN CAST('var' AS pg_catalog.text)
    ELSE CAST(t.typlen AS pg_catalog.text)
  END AS "%s",
  pg_catalog.array_to_string(
      ARRAY(
          SELECT e.enumlabel
          FROM pg_catalog.pg_enum e
          WHERE e.enumtypid = t.oid
          ORDER BY e.enumsortorder
      ),
      E'\\n'
  ) AS "%s",
  pg_catalog.pg_get_userbyid(t.typowner) AS "%s",
`,"Internal name","Size","Elements","Owner"),await V(n,"t.typacl"),i(n,`,
  `)),u(n,`  pg_catalog.obj_description(t.oid, 'pg_type') as "%s"
`,"Description"),i(n,`FROM pg_catalog.pg_type t
     LEFT JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace
`),i(n,"WHERE (t.typrelid = 0 "),i(n,`OR (SELECT c.relkind = 'c' FROM pg_catalog\
.pg_class c WHERE c.oid = t.typrelid))
`),(t==null||Re(t,"[]")==null)&&i(n,`  AND NOT EXISTS(SELECT 1 FROM pg_catalog.p\
g_type el WHERE el.oid = t.typelem AND el.typarray = t.oid)
`),!a&&!t&&i(n,`      AND n.nspname <> 'pg_catalog'
      AND n.nspname <> 'information_schema'
`),!D(n,Fe(t),!0,!1,"n.nspname","t.typname","pg_catalog.format_type(t.oid, NULL)",
"pg_catalog.pg_type_is_visible(t.oid)",null,3)||(i(n,"ORDER BY 1, 2;"),l=await O(
n.data),!l)?!1:(e.nullPrint=null,e.title="List of data types",e.translate_header=
!0,w(l,e,o.queryFout,!1,o.logfile),!0)}function Fe(t){let s=["decimal","numeric",
"float","double precision","int","integer","bool[]","boolean[]","decimal[]","num\
eric[]","float[]","double precision[]","float4[]","real[]","float8[]","double pr\
ecision[]","int[]","integer[]","int2[]","smallint[]","int4[]","integer[]","int8[\
]","bigint[]","time[]","time without time zone[]","timetz[]","time with time zon\
e[]","timestamp[]","timestamp without time zone[]","timestamptz[]","timestamp wi\
th time zone[]","varbit[]","bit varying[]","varchar[]","character varying[]",null];
if(t==null)return null;for(let a=0;s[a]!=null;a+=2)if(Ta(t,s[a])==0)return s[a+1];
return t}async function Ha(t,s,a,n,l){let e={},r,d=o.popt;if(A(e),_(e,`SELECT n.\
nspname as "%s",
  o.oprname AS "%s",
  CASE WHEN o.oprkind='l' THEN NULL ELSE pg_catalog.format_type(o.oprleft, NULL)\
 END AS "%s",
  CASE WHEN o.oprkind='r' THEN NULL ELSE pg_catalog.format_type(o.oprright, NULL\
) END AS "%s",
  pg_catalog.format_type(o.oprresult, NULL) AS "%s",
`,"Schema","Name","Left arg type","Right arg type","Result type"),n&&u(e,`  o.op\
rcode AS "%s",
`,"Function"),u(e,`  coalesce(pg_catalog.obj_description(o.oid, 'pg_operator'),
           pg_catalog.obj_description(o.oprcode, 'pg_proc')) AS "%s"
FROM pg_catalog.pg_operator o
     LEFT JOIN pg_catalog.pg_namespace n ON n.oid = o.oprnamespace
`,"Description"),a>=2?(a=2,i(e,`     LEFT JOIN pg_catalog.pg_type t0 ON t0.oid =\
 o.oprleft
     LEFT JOIN pg_catalog.pg_namespace nt0 ON nt0.oid = t0.typnamespace
     LEFT JOIN pg_catalog.pg_type t1 ON t1.oid = o.oprright
     LEFT JOIN pg_catalog.pg_namespace nt1 ON nt1.oid = t1.typnamespace
`)):a==1&&i(e,`     LEFT JOIN pg_catalog.pg_type t0 ON t0.oid = o.oprright
     LEFT JOIN pg_catalog.pg_namespace nt0 ON nt0.oid = t0.typnamespace
`),!l&&!t&&i(e,`WHERE n.nspname <> 'pg_catalog'
      AND n.nspname <> 'information_schema'
`),!D(e,t,!l&&!t,!0,"n.nspname","o.oprname",null,"pg_catalog.pg_operator_is_visi\
ble(o.oid)",null,3))return!1;a==1&&i(e,`  AND o.oprleft = 0
`);for(let f=0;f<a;f++)if(b(s[f],"-")!=0){let L,p,m,N;if(L=q("nt%d.nspname",f),p=
q("t%d.typname",f),m=q("pg_catalog.format_type(t%d.oid, NULL)",f),N=q("pg_catalo\
g.pg_type_is_visible(t%d.oid)",f),!D(e,Fe(s[f]),!0,!1,L,p,m,N,null,3))return!1}else
u(e,`  AND t%d.typname IS NULL
`,f);return i(e,"ORDER BY 1, 2, 3, 4;"),r=await O(e.data),r?(d.nullPrint=null,d.
title="List of operators",d.translate_header=!0,w(r,d,o.queryFout,!1,o.logfile),
!0):!1}async function Fa(t,s){let a={},n,l=o.popt,e=[!1,!1,!0,!1,!1,!1];return A(
a),_(a,`SELECT n.nspname as "%s",
  c.relname as "%s",
  CASE c.relkind WHEN 'r' THEN '%s' WHEN 'v' THEN '%s' WHEN 'm' THEN '%s' WHEN '\
S' THEN '%s' WHEN 'f' THEN '%s' WHEN 'p' THEN '%s' END as "%s",
  `,"Schema","Name","table","view","materialized view","sequence","foreign table",
"partitioned table","Type"),await V(a,"c.relacl"),u(a,`,
  pg_catalog.array_to_string(ARRAY(
    SELECT attname || E':\\n  ' || pg_catalog.array_to_string(attacl, E'\\n  ')
    FROM pg_catalog.pg_attribute a
    WHERE attrelid = c.oid AND NOT attisdropped AND attacl IS NOT NULL
  ), E'\\n') AS "%s"`,"Column privileges"),o.sversion>=90500&&o.sversion<1e5&&u(
a,`,
  pg_catalog.array_to_string(ARRAY(
    SELECT polname
    || CASE WHEN polcmd != '*' THEN
           E' (' || polcmd::pg_catalog.text || E'):'
       ELSE E':'
       END
    || CASE WHEN polqual IS NOT NULL THEN
           E'\\n  (u): ' || pg_catalog.pg_get_expr(polqual, polrelid)
       ELSE E''
       END
    || CASE WHEN polwithcheck IS NOT NULL THEN
           E'\\n  (c): ' || pg_catalog.pg_get_expr(polwithcheck, polrelid)
       ELSE E''
       END    || CASE WHEN polroles <> '{0}' THEN
           E'\\n  to: ' || pg_catalog.array_to_string(
               ARRAY(
                   SELECT rolname
                   FROM pg_catalog.pg_roles
                   WHERE oid = ANY (polroles)
                   ORDER BY 1
               ), E', ')
       ELSE E''
       END
    FROM pg_catalog.pg_policy pol
    WHERE polrelid = c.oid), E'\\n')
    AS "%s"`,"Policies"),o.sversion>=1e5&&u(a,`,
  pg_catalog.array_to_string(ARRAY(
    SELECT polname
    || CASE WHEN NOT polpermissive THEN
       E' (RESTRICTIVE)'
       ELSE '' END
    || CASE WHEN polcmd != '*' THEN
           E' (' || polcmd::pg_catalog.text || E'):'
       ELSE E':'
       END
    || CASE WHEN polqual IS NOT NULL THEN
           E'\\n  (u): ' || pg_catalog.pg_get_expr(polqual, polrelid)
       ELSE E''
       END
    || CASE WHEN polwithcheck IS NOT NULL THEN
           E'\\n  (c): ' || pg_catalog.pg_get_expr(polwithcheck, polrelid)
       ELSE E''
       END    || CASE WHEN polroles <> '{0}' THEN
           E'\\n  to: ' || pg_catalog.array_to_string(
               ARRAY(
                   SELECT rolname
                   FROM pg_catalog.pg_roles
                   WHERE oid = ANY (polroles)
                   ORDER BY 1
               ), E', ')
       ELSE E''
       END
    FROM pg_catalog.pg_policy pol
    WHERE polrelid = c.oid), E'\\n')
    AS "%s"`,"Policies"),i(a,`
FROM pg_catalog.pg_class c
     LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
WHERE c.relkind IN ('r','v','m','S','f','p')
`),!s&&!t&&i(a,`      AND n.nspname <> 'pg_catalog'
      AND n.nspname <> 'information_schema'
`),!D(a,t,!0,!1,"n.nspname","c.relname",null,"pg_catalog.pg_table_is_visible(c.o\
id)",null,3)||(i(a,"ORDER BY 1, 2;"),n=await O(a.data),!n)?!1:(l.nullPrint=null,
_(a,"Access privileges"),l.title=a.data,l.translate_header=!0,l.translate_columns=
e,l.n_translate_columns=P(e),w(n,l,o.queryFout,!1,o.logfile),!0)}async function Wa(t){
let s={},a,n=o.popt,l=[!1,!1,!0,!1];return A(s),_(s,`SELECT pg_catalog.pg_get_us\
erbyid(d.defaclrole) AS "%s",
  n.nspname AS "%s",
  CASE d.defaclobjtype WHEN '%c' THEN '%s' WHEN '%c' THEN '%s' WHEN '%c' THEN '%\
s' WHEN '%c' THEN '%s' WHEN '%c' THEN '%s' END AS "%s",
  `,"Owner","Schema",ra,"table",oa,"sequence",pa,"function",ca,"type",ga,"schema",
"Type"),await V(s,"d.defaclacl"),i(s,`
FROM pg_catalog.pg_default_acl d
     LEFT JOIN pg_catalog.pg_namespace n ON n.oid = d.defaclnamespace
`),!D(s,t,!1,!1,null,"n.nspname","pg_catalog.pg_get_userbyid(d.defaclrole)",null,
null,3)||(i(s,"ORDER BY 1, 2, 3;"),a=await O(s.data),!a)?!1:(n.nullPrint=null,_(
s,"Default access privileges"),n.title=s.data,n.translate_header=!0,n.translate_columns=
l,n.n_translate_columns=P(l),w(a,n,o.queryFout,!1,o.logfile),!0)}async function va(t,s){
let a={},n,l=o.popt,e=[!1,!1,!0,!1];return A(a),u(a,`SELECT DISTINCT tt.nspname \
AS "%s", tt.name AS "%s", tt.object AS "%s", d.description AS "%s"
FROM (
`,"Schema","Name","Object","Description"),u(a,`  SELECT pgc.oid as oid, pgc.tabl\
eoid AS tableoid,
  n.nspname as nspname,
  CAST(pgc.conname AS pg_catalog.text) as name,  CAST('%s' AS pg_catalog.text) a\
s object
  FROM pg_catalog.pg_constraint pgc
    JOIN pg_catalog.pg_class c ON c.oid = pgc.conrelid
    LEFT JOIN pg_catalog.pg_namespace n     ON n.oid = c.relnamespace
`,"table constraint"),!s&&!t&&i(a,`WHERE n.nspname <> 'pg_catalog'
      AND n.nspname <> 'information_schema'
`),!D(a,t,!s&&!t,!1,"n.nspname","pgc.conname",null,"pg_catalog.pg_table_is_visib\
le(c.oid)",null,3)||(u(a,`UNION ALL
  SELECT pgc.oid as oid, pgc.tableoid AS tableoid,
  n.nspname as nspname,
  CAST(pgc.conname AS pg_catalog.text) as name,  CAST('%s' AS pg_catalog.text) a\
s object
  FROM pg_catalog.pg_constraint pgc
    JOIN pg_catalog.pg_type t ON t.oid = pgc.contypid
    LEFT JOIN pg_catalog.pg_namespace n     ON n.oid = t.typnamespace
`,"domain constraint"),!s&&!t&&i(a,`WHERE n.nspname <> 'pg_catalog'
      AND n.nspname <> 'information_schema'
`),!D(a,t,!s&&!t,!1,"n.nspname","pgc.conname",null,"pg_catalog.pg_type_is_visibl\
e(t.oid)",null,3))||(u(a,`UNION ALL
  SELECT o.oid as oid, o.tableoid as tableoid,
  n.nspname as nspname,
  CAST(o.opcname AS pg_catalog.text) as name,
  CAST('%s' AS pg_catalog.text) as object
  FROM pg_catalog.pg_opclass o
    JOIN pg_catalog.pg_am am ON o.opcmethod = am.oid
    JOIN pg_catalog.pg_namespace n ON n.oid = o.opcnamespace
`,"operator class"),!s&&!t&&i(a,`      AND n.nspname <> 'pg_catalog'
      AND n.nspname <> 'information_schema'
`),!D(a,t,!0,!1,"n.nspname","o.opcname",null,"pg_catalog.pg_opclass_is_visible(o\
.oid)",null,3))||(u(a,`UNION ALL
  SELECT opf.oid as oid, opf.tableoid as tableoid,
  n.nspname as nspname,
  CAST(opf.opfname AS pg_catalog.text) AS name,
  CAST('%s' AS pg_catalog.text) as object
  FROM pg_catalog.pg_opfamily opf
    JOIN pg_catalog.pg_am am ON opf.opfmethod = am.oid
    JOIN pg_catalog.pg_namespace n ON opf.opfnamespace = n.oid
`,"operator family"),!s&&!t&&i(a,`      AND n.nspname <> 'pg_catalog'
      AND n.nspname <> 'information_schema'
`),!D(a,t,!0,!1,"n.nspname","opf.opfname",null,"pg_catalog.pg_opfamily_is_visibl\
e(opf.oid)",null,3))||(u(a,`UNION ALL
  SELECT r.oid as oid, r.tableoid as tableoid,
  n.nspname as nspname,
  CAST(r.rulename AS pg_catalog.text) as name,  CAST('%s' AS pg_catalog.text) as\
 object
  FROM pg_catalog.pg_rewrite r
       JOIN pg_catalog.pg_class c ON c.oid = r.ev_class
       LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
  WHERE r.rulename != '_RETURN'
`,"rule"),!s&&!t&&i(a,`      AND n.nspname <> 'pg_catalog'
      AND n.nspname <> 'information_schema'
`),!D(a,t,!0,!1,"n.nspname","r.rulename",null,"pg_catalog.pg_table_is_visible(c.\
oid)",null,3))||(u(a,`UNION ALL
  SELECT t.oid as oid, t.tableoid as tableoid,
  n.nspname as nspname,
  CAST(t.tgname AS pg_catalog.text) as name,  CAST('%s' AS pg_catalog.text) as o\
bject
  FROM pg_catalog.pg_trigger t
       JOIN pg_catalog.pg_class c ON c.oid = t.tgrelid
       LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
`,"trigger"),!s&&!t&&i(a,`WHERE n.nspname <> 'pg_catalog'
      AND n.nspname <> 'information_schema'
`),!D(a,t,!s&&!t,!1,"n.nspname","t.tgname",null,"pg_catalog.pg_table_is_visible(\
c.oid)",null,3))||(i(a,`) AS tt
  JOIN pg_catalog.pg_description d ON (tt.oid = d.objoid AND tt.tableoid = d.cla\
ssoid AND d.objsubid = 0)
`),i(a,"ORDER BY 1, 2, 3;"),n=await O(a.data),!n)?!1:(l.nullPrint=null,l.title="\
Object descriptions",l.translate_header=!0,l.translate_columns=e,l.n_translate_columns=
P(e),w(n,l,o.queryFout,!1,o.logfile),!0)}async function ka(t,s,a){let n={},l,e;if(A(
n),_(n,`SELECT c.oid,
  n.nspname,
  c.relname
FROM pg_catalog.pg_class c
     LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
`),!a&&!t&&i(n,`WHERE n.nspname <> 'pg_catalog'
      AND n.nspname <> 'information_schema'
`),!D(n,t,!a&&!t,!1,"n.nspname","c.relname",null,"pg_catalog.pg_table_is_visible\
(c.oid)",null,3)||(i(n,"ORDER BY 2, 3;"),l=await O(n.data),!l))return!1;if(H(l)==
0)return o.quiet||(t?W('Did not find any relation named "%s".',t):W("Did not fin\
d any relations.")),!1;for(e=0;e<H(l);e++){let r,d,f;if(r=g(l,e,0),d=g(l,e,1),f=
g(l,e,2),!await xa(d,f,r,s))return!1}return!0}async function xa(t,s,a,n){let l=!1,
e={},r=null,d=o.popt.topt,f={},L=!1,p,m=null,N=[],T={},y={},I,v=-1,h=-1,G=-1,pe=-1,
ce=-1,ge=-1,ve=-1,Ee=-1,Ne=-1,Le=-1,me=-1,Se=-1,Oe=-1,Ae=-1,Ie,E={},Te=!1;if(d.default_footer=
!1,d.expanded=!1,A(e),A(T),A(y),o.sversion>=12e4?_(e,`SELECT c.relchecks, c.relk\
ind, c.relhasindex, c.relhasrules, c.relhastriggers, c.relrowsecurity, c.relforc\
erowsecurity, false AS relhasoids, c.relispartition, %s, c.reltablespace, CASE W\
HEN c.reloftype = 0 THEN '' ELSE c.reloftype::pg_catalog.regtype::pg_catalog.tex\
t END, c.relpersistence, c.relreplident, am.amname
FROM pg_catalog.pg_class c
 LEFT JOIN pg_catalog.pg_class tc ON (c.reltoastrelid = tc.oid)
LEFT JOIN pg_catalog.pg_am am ON (c.relam = am.oid)
WHERE c.oid = '%s';`,n?`pg_catalog.array_to_string(c.reloptions || array(select \
'toast.' || x from pg_catalog.unnest(tc.reloptions) x), ', ')
`:"''",a):o.sversion>=1e5?_(e,`SELECT c.relchecks, c.relkind, c.relhasindex, c.r\
elhasrules, c.relhastriggers, c.relrowsecurity, c.relforcerowsecurity, c.relhaso\
ids, c.relispartition, %s, c.reltablespace, CASE WHEN c.reloftype = 0 THEN '' EL\
SE c.reloftype::pg_catalog.regtype::pg_catalog.text END, c.relpersistence, c.rel\
replident
FROM pg_catalog.pg_class c
 LEFT JOIN pg_catalog.pg_class tc ON (c.reltoastrelid = tc.oid)
WHERE c.oid = '%s';`,n?`pg_catalog.array_to_string(c.reloptions || array(select \
'toast.' || x from pg_catalog.unnest(tc.reloptions) x), ', ')
`:"''",a):o.sversion>=90500?_(e,`SELECT c.relchecks, c.relkind, c.relhasindex, c\
.relhasrules, c.relhastriggers, c.relrowsecurity, c.relforcerowsecurity, c.relha\
soids, false as relispartition, %s, c.reltablespace, CASE WHEN c.reloftype = 0 T\
HEN '' ELSE c.reloftype::pg_catalog.regtype::pg_catalog.text END, c.relpersisten\
ce, c.relreplident
FROM pg_catalog.pg_class c
 LEFT JOIN pg_catalog.pg_class tc ON (c.reltoastrelid = tc.oid)
WHERE c.oid = '%s';`,n?`pg_catalog.array_to_string(c.reloptions || array(select \
'toast.' || x from pg_catalog.unnest(tc.reloptions) x), ', ')
`:"''",a):o.sversion>=90400?_(e,`SELECT c.relchecks, c.relkind, c.relhasindex, c\
.relhasrules, c.relhastriggers, false, false, c.relhasoids, false as relispartit\
ion, %s, c.reltablespace, CASE WHEN c.reloftype = 0 THEN '' ELSE c.reloftype::pg\
_catalog.regtype::pg_catalog.text END, c.relpersistence, c.relreplident
FROM pg_catalog.pg_class c
 LEFT JOIN pg_catalog.pg_class tc ON (c.reltoastrelid = tc.oid)
WHERE c.oid = '%s';`,n?`pg_catalog.array_to_string(c.reloptions || array(select \
'toast.' || x from pg_catalog.unnest(tc.reloptions) x), ', ')
`:"''",a):_(e,`SELECT c.relchecks, c.relkind, c.relhasindex, c.relhasrules, c.re\
lhastriggers, false, false, c.relhasoids, false as relispartition, %s, c.reltabl\
espace, CASE WHEN c.reloftype = 0 THEN '' ELSE c.reloftype::pg_catalog.regtype::\
pg_catalog.text END, c.relpersistence
FROM pg_catalog.pg_class c
 LEFT JOIN pg_catalog.pg_class tc ON (c.reltoastrelid = tc.oid)
WHERE c.oid = '%s';`,n?`pg_catalog.array_to_string(c.reloptions || array(select \
'toast.' || x from pg_catalog.unnest(tc.reloptions) x), ', ')
`:"''",a),r=await O(e.data),!r)return l;if(H(r)==0)return o.quiet||W("Did not fi\
nd any relation with OID %s.",a),l;if(E.checks=Me(g(r,0,0)),E.relkind=g(r,0,1),E.
hasindex=b(g(r,0,2),"t")==0,E.hasrules=b(g(r,0,3),"t")==0,E.hastriggers=b(g(r,0,
4),"t")==0,E.rowsecurity=b(g(r,0,5),"t")==0,E.forcerowsecurity=b(g(r,0,6),"t")==
0,E.hasoids=b(g(r,0,7),"t")==0,E.ispartition=b(g(r,0,8),"t")==0,E.reloptions=g(r,
0,9),E.tablespace=Pe(g(r,0,10)),E.reloftype=b(g(r,0,11),"")!=0?g(r,0,11):null,E.
relpersistence=g(r,0,12),E.relreplident=o.sversion>=90400?g(r,0,13):"d",o.sversion>=
12e4?E.relam=Y(r,0,14)?null:g(r,0,14):E.relam=null,r=null,E.relkind==ua){let c=null,
S=o.popt,R=[null,null];if(o.sversion>=1e5?(_(e,`SELECT pg_catalog.format_type(se\
qtypid, NULL) AS "%s",
       seqstart AS "%s",
       seqmin AS "%s",
       seqmax AS "%s",
       seqincrement AS "%s",
       CASE WHEN seqcycle THEN '%s' ELSE '%s' END AS "%s",
       seqcache AS "%s"
`,"Type","Start","Minimum","Maximum","Increment","yes","no","Cycles?","Cache"),u(
e,`FROM pg_catalog.pg_sequence
WHERE seqrelid = '%s';`,a)):(_(e,`SELECT 'bigint' AS "%s",
       start_value AS "%s",
       min_value AS "%s",
       max_value AS "%s",
       increment_by AS "%s",
       CASE WHEN is_cycled THEN '%s' ELSE '%s' END AS "%s",
       cache_value AS "%s"
`,"Type","Start","Minimum","Maximum","Increment","yes","no","Cycles?","Cache"),u(
e,"FROM %s",fmtId(t)),u(e,".%s;",fmtId(s))),r=await O(e.data),!r)return l;if(_(e,
`SELECT pg_catalog.quote_ident(nspname) || '.' ||
   pg_catalog.quote_ident(relname) || '.' ||
   pg_catalog.quote_ident(attname),
   d.deptype
FROM pg_catalog.pg_class c
INNER JOIN pg_catalog.pg_depend d ON c.oid=d.refobjid
INNER JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
INNER JOIN pg_catalog.pg_attribute a ON (
 a.attrelid=c.oid AND
 a.attnum=d.refobjsubid)
WHERE d.classid='pg_catalog.pg_class'::pg_catalog.regclass
 AND d.refclassid='pg_catalog.pg_class'::pg_catalog.regclass
 AND d.objid='%s'
 AND d.deptype IN ('a', 'i')`,a),c=await O(e.data),c){if(H(c)==1)switch(g(c,0,1)[0]){case"\
a":R[0]=psprintf("Owned by: %s",g(c,0,0));break;case"i":R[0]=psprintf("Sequence \
for identity column: %s",g(c,0,0));break}}else return l;return E.relpersistence==
"u"?_(T,'Unlogged sequence "%s.%s"',t,s):_(T,'Sequence "%s.%s"',t,s),S.footers=R,
S.topt.default_footer=!1,S.title=T.data,S.translate_header=!0,w(r,S,o.queryFout,
!1,o.logfile),l=!0,l}if((E.relkind==$||E.relkind==ye||E.relkind==z||E.relkind==X||
E.relkind==Ce||E.relkind==j)&&(Te=!0),I=0,_(e,"SELECT a.attname"),v=I++,i(e,`,
  pg_catalog.format_type(a.atttypid, a.atttypmod)`),h=I++,Te&&(i(e,`,
  (SELECT pg_catalog.pg_get_expr(d.adbin, d.adrelid, true)
   FROM pg_catalog.pg_attrdef d
   WHERE d.adrelid = a.attrelid AND d.adnum = a.attnum AND a.atthasdef),
  a.attnotnull`),G=I++,pe=I++,i(e,`,
  (SELECT c.collname FROM pg_catalog.pg_collation c, pg_catalog.pg_type t
   WHERE c.oid = a.attcollation AND t.oid = a.atttypid AND a.attcollation <> t.t\
ypcollation) AS attcollation`),ce=I++,o.sversion>=1e5?i(e,`,
  a.attidentity`):i(e,`,
  ''::pg_catalog.char AS attidentity`),ge=I++,o.sversion>=12e4?i(e,`,
  a.attgenerated`):i(e,`,
  ''::pg_catalog.char AS attgenerated`),ve=I++),(E.relkind==se||E.relkind==Z)&&(o.
sversion>=11e4&&(u(e,`,
  CASE WHEN a.attnum <= (SELECT i.indnkeyatts FROM pg_catalog.pg_index i WHERE i\
.indexrelid = '%s') THEN '%s' ELSE '%s' END AS is_key`,a,"yes","no"),Ee=I++),i(e,
`,
  pg_catalog.pg_get_indexdef(a.attrelid, a.attnum, TRUE) AS indexdef`),Ne=I++),E.
relkind==X&&(i(e,`,
  CASE WHEN attfdwoptions IS NULL THEN '' ELSE   '(' || pg_catalog.array_to_stri\
ng(ARRAY(SELECT pg_catalog.quote_ident(option_name) || ' ' || pg_catalog.quote_l\
iteral(option_value)  FROM   pg_catalog.pg_options_to_table(attfdwoptions)), ', \
') || ')' END AS attfdwoptions`),Le=I++),n&&(i(e,`,
  a.attstorage`),me=I++,o.sversion>=14e4&&!o.hide_compression&&(E.relkind==$||E.
relkind==j||E.relkind==z)&&(i(e,`,
  a.attcompression AS attcompression`),Se=I++),(E.relkind==$||E.relkind==se||E.relkind==
Z||E.relkind==z||E.relkind==X||E.relkind==j)&&(i(e,`,
  CASE WHEN a.attstattarget=-1 THEN NULL ELSE a.attstattarget END AS attstattarg\
et`),Oe=I++),(E.relkind==$||E.relkind==ye||E.relkind==z||E.relkind==X||E.relkind==
Ce||E.relkind==j)&&(i(e,`,
  pg_catalog.col_description(a.attrelid, a.attnum)`),Ae=I++)),i(e,`
FROM pg_catalog.pg_attribute a`),u(e,`
WHERE a.attrelid = '%s' AND a.attnum > 0 AND NOT a.attisdropped`,a),i(e,`
ORDER BY a.attnum;`),r=await O(e.data),!r)return l;switch(Ie=H(r),E.relkind){case $:
E.relpersistence=="u"?_(T,'Unlogged table "%s.%s"',t,s):_(T,'Table "%s.%s"',t,s);
break;case ye:_(T,'View "%s.%s"',t,s);break;case z:E.relpersistence=="u"?_(T,'Un\
logged materialized view "%s.%s"',t,s):_(T,'Materialized view "%s.%s"',t,s);break;case se:
E.relpersistence=="u"?_(T,'Unlogged index "%s.%s"',t,s):_(T,'Index "%s.%s"',t,s);
break;case Z:E.relpersistence=="u"?_(T,'Unlogged partitioned index "%s.%s"',t,s):
_(T,'Partitioned index "%s.%s"',t,s);break;case _e:_(T,'TOAST table "%s.%s"',t,s);
break;case Ce:_(T,'Composite type "%s.%s"',t,s);break;case X:_(T,'Foreign table \
"%s.%s"',t,s);break;case j:E.relpersistence=="u"?_(T,'Unlogged partitioned table\
 "%s.%s"',t,s):_(T,'Partitioned table "%s.%s"',t,s);break;default:_(T,'?%c? "%s.\
%s"',E.relkind,t,s);break}for(I=0,N[I++]="Column",N[I++]="Type",Te&&(N[I++]="Col\
lation",N[I++]="Nullable",N[I++]="Default"),Ee>=0&&(N[I++]="Key?"),Ne>=0&&(N[I++]=
"Definition"),Le>=0&&(N[I++]="FDW options"),me>=0&&(N[I++]="Storage"),Se>=0&&(N[I++]=
"Compression"),Oe>=0&&(N[I++]="Stats target"),Ae>=0&&(N[I++]="Description"),oe(I<=
P(N)),De(f,d,T.data,I,Ie),L=!0,p=0;p<I;p++)K(f,N[p],!0,"l");for(p=0;p<Ie;p++){if(x(
f,g(r,p,v),!1,!1),x(f,g(r,p,h),!1,!1),Te){let c,S,R,C=!1;x(f,g(r,p,ce),!1,!1),x(
f,b(g(r,p,pe),"t")==0?"not null":"",!1,!1),c=g(r,p,ge),S=g(r,p,ve),c[0]==fa?R="g\
enerated always as identity":c[0]==_a?R="generated by default as identity":S[0]==
da?(R=psprintf("generated always as (%s) stored",g(r,p,G)),C=!0):R=g(r,p,G),x(f,
R,!1,C)}if(Ee>=0&&x(f,g(r,p,Ee),!0,!1),Ne>=0&&x(f,g(r,p,Ne),!1,!1),Le>=0&&x(f,g(
r,p,Le),!1,!1),me>=0){let c=g(r,p,me);x(f,c[0]=="p"?"plain":c[0]=="m"?"main":c[0]==
"x"?"extended":c[0]=="e"?"external":"???",!1,!1)}if(Se>=0){let c=g(r,p,Se);x(f,c[0]==
"p"?"pglz":c[0]=="l"?"lz4":c[0]=="\0"||c[0]===void 0?"":"???",!1,!1)}Oe>=0&&x(f,
g(r,p,Oe),!1,!1),Ae>=0&&x(f,g(r,p,Ae),!1,!1)}if(E.ispartition){let c;if(_(e,`SEL\
ECT inhparent::pg_catalog.regclass,
  pg_catalog.pg_get_expr(c.relpartbound, c.oid),
  `),i(e,o.sversion>=14e4?"inhdetachpending":"false as inhdetachpending"),n&&i(e,
`,
  pg_catalog.pg_get_partition_constraintdef(c.oid)`),u(e,`
FROM pg_catalog.pg_class c JOIN pg_catalog.pg_inherits i ON c.oid = inhrelid
WHERE c.oid = '%s';`,a),c=await O(e.data),!c)return l;if(H(c)>0){let S=g(c,0,0),
R=g(c,0,1),C=g(c,0,2);if(_(y,"Partition of: %s %s%s",S,R,b(C,"t")==0?" DETACH PE\
NDING":""),U(f,y.data),n){let F=null;Y(c,0,3)||(F=g(c,0,3)),F==null||F[0]=="\0"||
F[0]===void 0?_(y,"No partition constraint"):_(y,"Partition constraint: %s",F),U(
f,y.data)}}}if(E.relkind==j){let c;if(_(e,"SELECT pg_catalog.pg_get_partkeydef('\
%s'::pg_catalog.oid);",a),c=await O(e.data),!c)return l;if(H(c)==1){let S=g(c,0,
0);_(y,"Partition key: %s",S),U(f,y.data)}}if(E.relkind==_e){let c;if(_(e,`SELEC\
T n.nspname, c.relname
FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamesp\
ace
WHERE reltoastrelid = '%s';`,a),c=await O(e.data),!c)return l;if(H(c)==1){let S=g(
c,0,0),R=g(c,0,1);_(y,'Owning table: "%s.%s"',S,R),U(f,y.data)}}if(E.relkind==se||
E.relkind==Z){let c;if(_(e,`SELECT i.indisunique, i.indisprimary, i.indiscluster\
ed, i.indisvalid,
  (NOT i.indimmediate) AND EXISTS (SELECT 1 FROM pg_catalog.pg_constraint WHERE \
conrelid = i.indrelid AND conindid = i.indexrelid AND contype IN ('p','u','x') A\
ND condeferrable) AS condeferrable,
  (NOT i.indimmediate) AND EXISTS (SELECT 1 FROM pg_catalog.pg_constraint WHERE \
conrelid = i.indrelid AND conindid = i.indexrelid AND contype IN ('p','u','x') A\
ND condeferred) AS condeferred,
`),o.sversion>=90400?i(e,`i.indisreplident,
`):i(e,`false AS indisreplident,
`),o.sversion>=15e4?i(e,`i.indnullsnotdistinct,
`):i(e,`false AS indnullsnotdistinct,
`),u(e,`  a.amname, c2.relname, pg_catalog.pg_get_expr(i.indpred, i.indrelid, tr\
ue)
FROM pg_catalog.pg_index i, pg_catalog.pg_class c, pg_catalog.pg_class c2, pg_ca\
talog.pg_am a
WHERE i.indexrelid = c.oid AND c.oid = '%s' AND c.relam = a.oid
AND i.indrelid = c2.oid;`,a),c=await O(e.data),c){if(H(c)!=1)return l;{let S=g(c,
0,0),R=g(c,0,1),C=g(c,0,2),F=g(c,0,3),k=g(c,0,4),ae=g(c,0,5),B=g(c,0,6),fe=g(c,0,
7),ea=g(c,0,8),aa=g(c,0,9),ke=g(c,0,10);b(R,"t")==0?_(y,"primary key, "):b(S,"t")==
0?(_(y,"unique"),b(fe,"t")==0&&i(y," nulls not distinct"),i(y,", ")):ze(y),u(y,"\
%s, ",ea),u(y,'for table "%s.%s"',t,aa),le(ke)&&u(y,", predicate (%s)",ke),b(C,"\
t")==0&&i(y,", clustered"),b(F,"t")!=0&&i(y,", invalid"),b(k,"t")==0&&i(y,", def\
errable"),b(ae,"t")==0&&i(y,", initially deferred"),b(B,"t")==0&&i(y,", replica \
identity"),U(f,y.data),E.relkind==se&&await We(f,E.relkind,E.tablespace,!0)}}else
return l}else if(E.relkind==$||E.relkind==z||E.relkind==X||E.relkind==j||E.relkind==
Z||E.relkind==_e){let c=null,S=0;if(E.hasindex){if(_(e,`SELECT c2.relname, i.ind\
isprimary, i.indisunique, i.indisclustered, i.indisvalid, pg_catalog.pg_get_inde\
xdef(i.indexrelid, 0, true),
  pg_catalog.pg_get_constraintdef(con.oid, true), contype, condeferrable, condef\
erred`),o.sversion>=90400?i(e,", i.indisreplident"):i(e,", false AS indisreplide\
nt"),i(e,", c2.reltablespace"),u(e,`
FROM pg_catalog.pg_class c, pg_catalog.pg_class c2, pg_catalog.pg_index i
  LEFT JOIN pg_catalog.pg_constraint con ON (conrelid = i.indrelid AND conindid \
= i.indexrelid AND contype IN ('p','u','x'))
WHERE c.oid = '%s' AND c.oid = i.indrelid AND i.indexrelid = c2.oid
ORDER BY i.indisprimary DESC, c2.relname;`,a),c=await O(e.data),c)S=H(c);else return l;
if(S>0)for(U(f,"Indexes:"),p=0;p<S;p++){if(_(e,'    "%s"',g(c,p,0)),b(g(c,p,7),"\
x")==0)u(e," %s",g(c,p,6));else{let R,C;b(g(c,p,1),"t")==0?i(e," PRIMARY KEY,"):
b(g(c,p,2),"t")==0&&(b(g(c,p,7),"u")==0?i(e," UNIQUE CONSTRAINT,"):i(e," UNIQUE,")),
R=g(c,p,5),C=Re(R," USING "),C!=null&&(R=R.slice(C+7)),u(e," %s",R),b(g(c,p,8),"\
t")==0&&i(e," DEFERRABLE"),b(g(c,p,9),"t")==0&&i(e," INITIALLY DEFERRED")}b(g(c,
p,3),"t")==0&&i(e," CLUSTER"),b(g(c,p,4),"t")!=0&&i(e," INVALID"),b(g(c,p,10),"t")==
0&&i(e," REPLICA IDENTITY"),U(f,e.data),await We(f,se,Pe(g(c,p,11)),!1)}}if(E.checks){
if(_(e,`SELECT r.conname, pg_catalog.pg_get_constraintdef(r.oid, true)
FROM pg_catalog.pg_constraint r
WHERE r.conrelid = '%s' AND r.contype = 'c'
ORDER BY 1;`,a),c=await O(e.data),c)S=H(c);else return l;if(S>0)for(U(f,"Check c\
onstraints:"),p=0;p<S;p++)_(e,'    "%s" %s',g(c,p,0),g(c,p,1)),U(f,e.data)}if(E.
hastriggers||E.relkind==j){if(o.sversion>=12e4&&(E.ispartition||E.relkind==j)?_(
e,`SELECT conrelid = '%s'::pg_catalog.regclass AS sametable,
       conname,
       pg_catalog.pg_get_constraintdef(oid, true) AS condef,
       conrelid::pg_catalog.regclass AS ontable
  FROM pg_catalog.pg_constraint,
       pg_catalog.pg_partition_ancestors('%s')
 WHERE conrelid = relid AND contype = 'f' AND conparentid = 0
ORDER BY sametable DESC, conname;`,a,a):(_(e,`SELECT true as sametable, conname,\

  pg_catalog.pg_get_constraintdef(r.oid, true) as condef,
  conrelid::pg_catalog.regclass AS ontable
FROM pg_catalog.pg_constraint r
WHERE r.conrelid = '%s' AND r.contype = 'f'
`,a),o.sversion>=12e4&&i(e,`     AND conparentid = 0
`),i(e,"ORDER BY conname")),c=await O(e.data),c)S=H(c);else return l;if(S>0){let R=ie(
c,"sametable"),C=ie(c,"conname"),F=ie(c,"condef"),k=ie(c,"ontable");for(U(f,"For\
eign-key constraints:"),p=0;p<S;p++)b(g(c,p,R),"f")==0?_(e,'    TABLE "%s" CONST\
RAINT "%s" %s',g(c,p,k),g(c,p,C),g(c,p,F)):_(e,'    "%s" %s',g(c,p,C),g(c,p,F)),
U(f,e.data)}}if(E.hastriggers||E.relkind==j){if(o.sversion>=12e4?_(e,`SELECT con\
name, conrelid::pg_catalog.regclass AS ontable,
       pg_catalog.pg_get_constraintdef(oid, true) AS condef
  FROM pg_catalog.pg_constraint c
 WHERE confrelid IN (SELECT pg_catalog.pg_partition_ancestors('%s')
                     UNION ALL VALUES ('%s'::pg_catalog.regclass))
       AND contype = 'f' AND conparentid = 0
ORDER BY conname;`,a,a):_(e,`SELECT conname, conrelid::pg_catalog.regclass AS on\
table,
       pg_catalog.pg_get_constraintdef(oid, true) AS condef
  FROM pg_catalog.pg_constraint
 WHERE confrelid = %s AND contype = 'f'
ORDER BY conname;`,a),c=await O(e.data),c)S=H(c);else return l;if(S>0){let R=ie(
c,"conname"),C=ie(c,"ontable"),F=ie(c,"condef");for(U(f,"Referenced by:"),p=0;p<
S;p++)_(e,'    TABLE "%s" CONSTRAINT "%s" %s',g(c,p,C),g(c,p,R),g(c,p,F)),U(f,e.
data)}}if(o.sversion>=90500){if(_(e,"SELECT pol.polname,"),o.sversion>=1e5?i(e,`\
 pol.polpermissive,
`):i(e,` 't' as polpermissive,
`),u(e,`  CASE WHEN pol.polroles = '{0}' THEN NULL ELSE pg_catalog.array_to_stri\
ng(array(select rolname from pg_catalog.pg_roles where oid = any (pol.polroles) \
order by 1),',') END,
  pg_catalog.pg_get_expr(pol.polqual, pol.polrelid),
  pg_catalog.pg_get_expr(pol.polwithcheck, pol.polrelid),
  CASE pol.polcmd
    WHEN 'r' THEN 'SELECT'
    WHEN 'a' THEN 'INSERT'
    WHEN 'w' THEN 'UPDATE'
    WHEN 'd' THEN 'DELETE'
    END AS cmd
FROM pg_catalog.pg_policy pol
WHERE pol.polrelid = '%s' ORDER BY 1;`,a),c=await O(e.data),c)S=H(c);else return l;
for(E.rowsecurity&&!E.forcerowsecurity&&S>0&&U(f,"Policies:"),E.rowsecurity&&E.forcerowsecurity&&
S>0&&U(f,"Policies (forced row security enabled):"),E.rowsecurity&&!E.forcerowsecurity&&
S==0&&U(f,"Policies (row security enabled): (none)"),E.rowsecurity&&E.forcerowsecurity&&
S==0&&U(f,"Policies (forced row security enabled): (none)"),!E.rowsecurity&&S>0&&
U(f,"Policies (row security disabled):"),p=0;p<S;p++)_(e,'    POLICY "%s"',g(c,p,
0)),g(c,p,1)=="f"&&i(e," AS RESTRICTIVE"),Y(c,p,5)||u(e," FOR %s",g(c,p,5)),Y(c,
p,2)||u(e,`
      TO %s`,g(c,p,2)),Y(c,p,3)||u(e,`
      USING (%s)`,g(c,p,3)),Y(c,p,4)||u(e,`
      WITH CHECK (%s)`,g(c,p,4)),U(f,e.data)}if(o.sversion>=14e4){if(_(e,`SELECT\
 oid, stxrelid::pg_catalog.regclass, stxnamespace::pg_catalog.regnamespace::pg_c\
atalog.text AS nsp, stxname,
pg_catalog.pg_get_statisticsobjdef_columns(oid) AS columns,
  'd' = any(stxkind) AS ndist_enabled,
  'f' = any(stxkind) AS deps_enabled,
  'm' = any(stxkind) AS mcv_enabled,
stxstattarget
FROM pg_catalog.pg_statistic_ext
WHERE stxrelid = '%s'
ORDER BY nsp, stxname;`,a),c=await O(e.data),c)S=H(c);else return l;if(S>0)for(U(
f,"Statistics objects:"),p=0;p<S;p++){let R=!1,C,F,k,ae,B;C=b(g(c,p,5),"t")==0,F=
b(g(c,p,6),"t")==0,k=b(g(c,p,7),"t")==0,_(e,"    "),u(e,'"%s.%s"',g(c,p,2),g(c,p,
3)),ae=C&&F&&k,B=C||F||k,B&&!ae&&(i(e," ("),C&&(i(e,"ndistinct"),R=!0),F&&(u(e,"\
%sdependencies",R?", ":""),R=!0),k&&u(e,"%smcv",R?", ":""),M(e,")")),u(e," ON %s\
 FROM %s",g(c,p,4),g(c,p,1)),b(g(c,p,8),"-1")!=0&&u(e,"; STATISTICS %s",g(c,p,8)),
U(f,e.data)}}else if(o.sversion>=1e5){if(_(e,`SELECT oid, stxrelid::pg_catalog.r\
egclass, stxnamespace::pg_catalog.regnamespace AS nsp, stxname,
  (SELECT pg_catalog.string_agg(pg_catalog.quote_ident(attname),', ')
   FROM pg_catalog.unnest(stxkeys) s(attnum)
   JOIN pg_catalog.pg_attribute a ON (stxrelid = a.attrelid AND
        a.attnum = s.attnum AND NOT attisdropped)) AS columns,
  'd' = any(stxkind) AS ndist_enabled,
  'f' = any(stxkind) AS deps_enabled,
  'm' = any(stxkind) AS mcv_enabled,
`),o.sversion>=13e4?i(e,`  stxstattarget
`):i(e,`  -1 AS stxstattarget
`),u(e,`FROM pg_catalog.pg_statistic_ext
WHERE stxrelid = '%s'
ORDER BY 1;`,a),c=await O(e.data),c)S=H(c);else return l;if(S>0)for(U(f,"Statist\
ics objects:"),p=0;p<S;p++){let R=!1;_(e,"    "),u(e,'"%s.%s" (',g(c,p,2),g(c,p,
3)),b(g(c,p,5),"t")==0&&(i(e,"ndistinct"),R=!0),b(g(c,p,6),"t")==0&&(u(e,"%sdepe\
ndencies",R?", ":""),R=!0),b(g(c,p,7),"t")==0&&u(e,"%smcv",R?", ":""),u(e,") ON \
%s FROM %s",g(c,p,4),g(c,p,1)),b(g(c,p,8),"-1")!=0&&u(e,"; STATISTICS %s",g(c,p,
8)),U(f,e.data)}}if(E.hasrules&&E.relkind!=z){if(_(e,`SELECT r.rulename, trim(tr\
ailing ';' from pg_catalog.pg_get_ruledef(r.oid, true)), ev_enabled
FROM pg_catalog.pg_rewrite r
WHERE r.ev_class = '%s' ORDER BY 1;`,a),c=await O(e.data),c)S=H(c);else return l;
if(S>0){let R,C;for(C=0;C<4;C++)for(R=!1,p=0;p<S;p++){let F,k=!1;switch(C){case 0:
g(c,p,2)=="O"&&(k=!0);break;case 1:g(c,p,2)=="D"&&(k=!0);break;case 2:g(c,p,2)==
"A"&&(k=!0);break;case 3:g(c,p,2)=="R"&&(k=!0);break}if(k){if(!R){switch(C){case 0:
_(e,"Rules:");break;case 1:_(e,"Disabled rules:");break;case 2:_(e,"Rules firing\
 always:");break;case 3:_(e,"Rules firing on replica only:");break}U(f,e.data),R=
!0}F=g(c,p,1),F=F.slice(12),_(e,"    %s",F),U(f,e.data)}}}}if(o.sversion>=1e5){if(o.
sversion>=15e4?_(e,`SELECT pubname
     , NULL
     , NULL
FROM pg_catalog.pg_publication p
     JOIN pg_catalog.pg_publication_namespace pn ON p.oid = pn.pnpubid
     JOIN pg_catalog.pg_class pc ON pc.relnamespace = pn.pnnspid
WHERE pc.oid ='%s' and pg_catalog.pg_relation_is_publishable('%s')
UNION
SELECT pubname
     , pg_get_expr(pr.prqual, c.oid)
     , (CASE WHEN pr.prattrs IS NOT NULL THEN
         (SELECT string_agg(attname, ', ')
           FROM pg_catalog.generate_series(0, pg_catalog.array_upper(pr.prattrs:\
:pg_catalog.int2[], 1)) s,
                pg_catalog.pg_attribute
          WHERE attrelid = pr.prrelid AND attnum = prattrs[s])
        ELSE NULL END) FROM pg_catalog.pg_publication p
     JOIN pg_catalog.pg_publication_rel pr ON p.oid = pr.prpubid
     JOIN pg_catalog.pg_class c ON c.oid = pr.prrelid
WHERE pr.prrelid = '%s'
UNION
SELECT pubname
     , NULL
     , NULL
FROM pg_catalog.pg_publication p
WHERE p.puballtables AND pg_catalog.pg_relation_is_publishable('%s')
ORDER BY 1;`,a,a,a,a):_(e,`SELECT pubname
     , NULL
     , NULL
FROM pg_catalog.pg_publication p
JOIN pg_catalog.pg_publication_rel pr ON p.oid = pr.prpubid
WHERE pr.prrelid = '%s'
UNION ALL
SELECT pubname
     , NULL
     , NULL
FROM pg_catalog.pg_publication p
WHERE p.puballtables AND pg_catalog.pg_relation_is_publishable('%s')
ORDER BY 1;`,a,a),c=await O(e.data),c)S=H(c);else return l;for(S>0&&U(f,"Publica\
tions:"),p=0;p<S;p++)_(e,'    "%s"',g(c,p,0)),Y(c,p,2)||u(e," (%s)",g(c,p,2)),Y(
c,p,1)||u(e," WHERE %s",g(c,p,1)),U(f,e.data)}if(n){if(_(e,`SELECT co.conname, a\
t.attname, co.connoinherit, co.conislocal,
co.coninhcount <> 0
FROM pg_catalog.pg_constraint co JOIN
pg_catalog.pg_attribute at ON
(at.attnum = co.conkey[1])
WHERE co.contype = 'n' AND
co.conrelid = '%s'::pg_catalog.regclass AND
at.attrelid = '%s'::pg_catalog.regclass
ORDER BY at.attnum`,a,a),c=await O(e.data),c)S=H(c);else return l;for(S>0&&U(f,"\
Not-null constraints:"),p=0;p<S;p++){let R=g(c,p,3)[0]=="t",C=g(c,p,4)[0]=="t";_(
e,'    "%s" NOT NULL "%s"%s',g(c,p,0),g(c,p,1),g(c,p,2)[0]=="t"?" NO INHERIT":R&&
C?" (local, inherited)":C?" (inherited)":""),U(f,e.data)}}}if((E.relkind==ye||E.
relkind==z)&&n){let c;if(_(e,"SELECT pg_catalog.pg_get_viewdef('%s'::pg_catalog.\
oid, true);",a),c=await O(e.data),!c)return l;H(c)>0&&(m=g(c,0,0))}if(m){let c=null;
if(U(f,"View definition:"),U(f,m),E.hasrules){if(_(e,`SELECT r.rulename, trim(tr\
ailing ';' from pg_catalog.pg_get_ruledef(r.oid, true))
FROM pg_catalog.pg_rewrite r
WHERE r.ev_class = '%s' AND r.rulename != '_RETURN' ORDER BY 1;`,a),c=await O(e.
data),!c)return l;if(H(c)>0)for(U(f,"Rules:"),p=0;p<H(c);p++){let S;S=g(c,p,1),S=
S.slice(12),_(e," %s",S),U(f,e.data)}}}if(E.hastriggers){let c,S;if(_(e,`SELECT \
t.tgname, pg_catalog.pg_get_triggerdef(t.oid, true), t.tgenabled, t.tgisinternal\
,
`),o.sversion>=13e4?i(e,`  CASE WHEN t.tgparentid != 0 THEN
    (SELECT u.tgrelid::pg_catalog.regclass
     FROM pg_catalog.pg_trigger AS u,
          pg_catalog.pg_partition_ancestors(t.tgrelid) WITH ORDINALITY AS a(reli\
d, depth)
     WHERE u.tgname = t.tgname AND u.tgrelid = a.relid
           AND u.tgparentid = 0
     ORDER BY a.depth LIMIT 1)
  END AS parent
`):i(e,`  NULL AS parent
`),u(e,`FROM pg_catalog.pg_trigger t
WHERE t.tgrelid = '%s' AND `,a),o.sversion>=11e4&&o.sversion<15e4?i(e,`(NOT t.tg\
isinternal OR (t.tgisinternal AND t.tgenabled = 'D') 
    OR EXISTS (SELECT 1 FROM pg_catalog.pg_depend WHERE objid = t.oid 
        AND refclassid = 'pg_catalog.pg_trigger'::pg_catalog.regclass))`):i(e,"(\
NOT t.tgisinternal OR (t.tgisinternal AND t.tgenabled = 'D'))"),i(e,`
ORDER BY 1;`),c=await O(e.data),c)S=H(c);else return l;if(S>0){let R,C;for(C=0;C<=
4;C++)for(R=!1,p=0;p<S;p++){let F,k,ae,B,fe;switch(B=g(c,p,2),fe=g(c,p,3),F=!1,C){case 0:
(B=="O"||B=="t")&&(F=!0);break;case 1:(B=="D"||B=="f")&&fe=="f"&&(F=!0);break;case 2:
(B=="D"||B=="f")&&fe=="t"&&(F=!0);break;case 3:B=="A"&&(F=!0);break;case 4:B=="R"&&
(F=!0);break}if(F!=!1){if(R==!1){switch(C){case 0:_(e,"Triggers:");break;case 1:
_(e,"Disabled user triggers:");break;case 2:_(e,"Disabled internal triggers:");break;case 3:
_(e,"Triggers firing always:");break;case 4:_(e,"Triggers firing on replica only\
:");break}U(f,e.data),R=!0}k=g(c,p,1),ae=Re(k," TRIGGER "),ae!=null&&(k=k.slice(
ae+9)),_(e,"    %s",k),Y(c,p,4)||u(e,", ON TABLE %s",g(c,p,4)),U(f,e.data)}}}}if(E.
relkind==$||E.relkind==z||E.relkind==X||E.relkind==j||E.relkind==Z||E.relkind==_e){
let c,S,R;if(c=E.relkind==j||E.relkind==Z,E.relkind==X){let C;if(_(e,`SELECT s.s\
rvname,
  pg_catalog.array_to_string(ARRAY(
    SELECT pg_catalog.quote_ident(option_name) || ' ' || pg_catalog.quote_litera\
l(option_value)
    FROM pg_catalog.pg_options_to_table(ftoptions)),  ', ')
FROM pg_catalog.pg_foreign_table f,
     pg_catalog.pg_foreign_server s
WHERE f.ftrelid = '%s' AND s.oid = f.ftserver;`,a),S=await O(e.data),S){if(H(S)!=
1)return l}else return l;_(e,"Server: %s",g(S,0,0)),U(f,e.data),C=g(S,0,1),C&&C[0]!=
"\0"&&(_(e,"FDW options: (%s)",C),U(f,e.data))}if(_(e,`SELECT c.oid::pg_catalog.\
regclass
FROM pg_catalog.pg_class c, pg_catalog.pg_inherits i
WHERE c.oid = i.inhparent AND i.inhrelid = '%s'
  AND c.relkind != 'p' AND c.relkind != 'I'
ORDER BY inhseqno;`,a),S=await O(e.data),S){let C="Inherits",F=Qe(C,le(C),o.encoding);
for(R=H(S),p=0;p<R;p++)p==0?_(e,"%s: %s",C,g(S,p,0)):_(e,"%*s  %s",F,"",g(S,p,0)),
p<R-1&&M(e,","),U(f,e.data)}else return l;if(o.sversion>=14e4?_(e,`SELECT c.oid:\
:pg_catalog.regclass, c.relkind, inhdetachpending, pg_catalog.pg_get_expr(c.relp\
artbound, c.oid)
FROM pg_catalog.pg_class c, pg_catalog.pg_inherits i
WHERE c.oid = i.inhrelid AND i.inhparent = '%s'
ORDER BY pg_catalog.pg_get_expr(c.relpartbound, c.oid) = 'DEFAULT', c.oid::pg_ca\
talog.regclass::pg_catalog.text;`,a):o.sversion>=1e5?_(e,`SELECT c.oid::pg_catal\
og.regclass, c.relkind, false AS inhdetachpending, pg_catalog.pg_get_expr(c.relp\
artbound, c.oid)
FROM pg_catalog.pg_class c, pg_catalog.pg_inherits i
WHERE c.oid = i.inhrelid AND i.inhparent = '%s'
ORDER BY pg_catalog.pg_get_expr(c.relpartbound, c.oid) = 'DEFAULT', c.oid::pg_ca\
talog.regclass::pg_catalog.text;`,a):_(e,`SELECT c.oid::pg_catalog.regclass, c.r\
elkind, false AS inhdetachpending, NULL
FROM pg_catalog.pg_class c, pg_catalog.pg_inherits i
WHERE c.oid = i.inhrelid AND i.inhparent = '%s'
ORDER BY c.oid::pg_catalog.regclass::pg_catalog.text;`,a),S=await O(e.data),!S)return l;
if(R=H(S),c&&R==0)_(e,"Number of partitions: %d",R),U(f,e.data);else if(!n)R>0&&
(c?_(e,"Number of partitions: %d (Use \\d+ to list them.)",R):_(e,"Number of chi\
ld tables: %d (Use \\d+ to list them.)",R),U(f,e.data));else{let C=c?"Partitions":
"Child tables",F=Qe(C,le(C),o.encoding);for(p=0;p<R;p++){let k=g(S,p,1);p==0?_(e,
"%s: %s",C,g(S,p,0)):_(e,"%*s  %s",F,"",g(S,p,0)),Y(S,p,3)||u(e," %s",g(S,p,3)),
k==j||k==Z?i(e,", PARTITIONED"):k==X&&i(e,", FOREIGN"),b(g(S,p,2),"t")==0&&i(e,"\
 (DETACH PENDING)"),p<R-1&&M(e,","),U(f,e.data)}}if(E.reloftype&&(_(e,"Typed tab\
le of type: %s",E.reloftype),U(f,e.data)),n&&(E.relkind==$||E.relkind==z)&&E.relreplident!=
"i"&&(b(t,"pg_catalog")!=0&&E.relreplident!="d"||b(t,"pg_catalog")==0&&E.relreplident!=
"n")){let C="Replica Identity";_(e,"%s: %s",C,E.relreplident=="f"?"FULL":E.relreplident==
"n"?"NOTHING":"???"),U(f,e.data)}n&&E.relkind!=z&&E.hasoids&&U(f,"Has OIDs: yes"),
await We(f,E.relkind,E.tablespace,!0),n&&E.relam!=null&&!o.hide_tableam&&(_(e,"A\
ccess method: %s",E.relam),U(f,e.data))}if(n&&E.reloptions&&E.reloptions[0]!="\0"){
let c="Options";_(e,"%s: %s",c,E.reloptions),U(f,e.data)}return Ue(f,o.queryFout,
!1,o.logfile),l=!0,l}async function We(t,s,a,n){if((s==$||s==z||s==se||s==j||s==
Z||s==_e)&&a!=0){let l=null,e={};if(A(e),_(e,`SELECT spcname FROM pg_catalog.pg_\
tablespace
WHERE oid = '%u';`,a),l=await O(e.data),!l)return;H(l)>0&&(n?(_(e,'Tablespace: "\
%s"',g(l,0,0)),U(t,e.data)):(_(e,"%s",t.footer),u(e,', tablespace "%s"',g(l,0,0)),
ba(t,e.data)))}}async function $e(t,s,a){let n={},l,e={},r=o.popt.topt,d=2,f=0,L,
p,m="l",N;if(r.default_footer=!1,A(n),_(n,`SELECT r.rolname, r.rolsuper, r.rolin\
herit,
  r.rolcreaterole, r.rolcreatedb, r.rolcanlogin,
  r.rolconnlimit, r.rolvaliduntil`),s&&(i(n,`
, pg_catalog.shobj_description(r.oid, 'pg_authid') AS description`),d++),i(n,`
, r.rolreplication`),o.sversion>=90500&&i(n,`
, r.rolbypassrls`),i(n,`
FROM pg_catalog.pg_roles r
`),!a&&!t&&i(n,`WHERE r.rolname !~ '^pg_'
`),!D(n,t,!1,!1,null,"r.rolname",null,null,null,1)||(i(n,"ORDER BY 1;"),l=await O(
n.data),!l))return!1;for(f=H(l),N=[],De(e,r,"List of roles",d,f),K(e,"Role name",
!0,m),K(e,"Attributes",!0,m),s&&K(e,"Description",!0,m),L=0;L<f;L++)x(e,g(l,L,0),
!1,!1),ze(n),b(g(l,L,1),"t")==0&&re(n,"Superuser"),b(g(l,L,2),"t")!=0&&re(n,"No \
inheritance"),b(g(l,L,3),"t")==0&&re(n,"Create role"),b(g(l,L,4),"t")==0&&re(n,"\
Create DB"),b(g(l,L,5),"t")!=0&&re(n,"Cannot login"),b(g(l,L,s?9:8),"t")==0&&re(
n,"Replication"),o.sversion>=90500&&b(g(l,L,s?10:9),"t")==0&&re(n,"Bypass RLS"),
p=Me(g(l,L,6)),p>=0&&(n.len>0&&M(n,`
`),p==0?i(n,"No connections"):u(n,ngettext("%d connection","%d connections",p),p)),
b(g(l,L,7),"")!=0&&(n.len>0&&M(n,`
`),i(n,"Password valid until "),i(n,g(l,L,7))),N[L]=n.data,x(e,N[L],!1,!1),s&&x(
e,g(l,L,8),!1,!1);return Ue(e,o.queryFout,!1,o.logfile),!0}function re(t,s){t.len>
0&&i(t,", "),i(t,s)}async function Ma(t,s){let a={},n,l=o.popt,e={};return A(a),
_(a,`SELECT rolname AS "%s", datname AS "%s",
pg_catalog.array_to_string(setconfig, E'\\n') AS "%s"
FROM pg_catalog.pg_db_role_setting s
LEFT JOIN pg_catalog.pg_database d ON d.oid = setdatabase
LEFT JOIN pg_catalog.pg_roles r ON r.oid = setrole
`,"Role","Database","Settings"),!D(a,t,!1,!1,null,"r.rolname",null,null,e,1)||!D(
a,s,e.value,!1,null,"d.datname",null,null,null,1)||(i(a,"ORDER BY 1, 2;"),n=await O(
a.data),!n)?!1:(H(n)==0&&!o.quiet?t&&s?W('Did not find any settings for role "%s\
" and database "%s".',t,s):t?W('Did not find any settings for role "%s".',t):W("\
Did not find any settings."):(l.nullPrint=null,l.title="List of settings",l.translate_header=
!0,w(n,l,o.queryFout,!1,o.logfile)),!0)}async function Pa(t,s){let a={},n,l=o.popt;
return A(a),_(a,`SELECT m.rolname AS "%s", r.rolname AS "%s",
  pg_catalog.concat_ws(', ',
`,"Role name","Member of"),o.sversion>=16e4?i(a,`    CASE WHEN pam.admin_option \
THEN 'ADMIN' END,
    CASE WHEN pam.inherit_option THEN 'INHERIT' END,
    CASE WHEN pam.set_option THEN 'SET' END
`):i(a,`    CASE WHEN pam.admin_option THEN 'ADMIN' END,
    CASE WHEN m.rolinherit THEN 'INHERIT' END,
    'SET'
`),u(a,`  ) AS "%s",
  g.rolname AS "%s"
`,"Options","Grantor"),i(a,`FROM pg_catalog.pg_roles m
     JOIN pg_catalog.pg_auth_members pam ON (pam.member = m.oid)
     LEFT JOIN pg_catalog.pg_roles r ON (pam.roleid = r.oid)
     LEFT JOIN pg_catalog.pg_roles g ON (pam.grantor = g.oid)
`),!s&&!t&&i(a,`WHERE m.rolname !~ '^pg_'
`),!D(a,t,!1,!1,null,"m.rolname",null,null,null,1)||(i(a,`ORDER BY 1, 2, 4;
`),n=await O(a.data),!n)?!1:(l.nullPrint=null,l.title="List of role grants",l.translate_header=
!0,w(n,l,o.queryFout,!1,o.logfile),!0)}async function Xe(t,s,a,n){let l=J(t,"t")!=
null,e=J(t,"i")!=null,r=J(t,"v")!=null,d=J(t,"m")!=null,f=J(t,"s")!=null,L=J(t,"\
E")!=null,p={},m,N=o.popt,T,y=[!1,!1,!0,!1,!1,!1,!1,!1,!1];return l||e||r||d||f||
L||(l=r=d=f=L=!0),A(p),_(p,`SELECT n.nspname as "%s",
  c.relname as "%s",
  CASE c.relkind WHEN 'r' THEN '%s' WHEN 'v' THEN '%s' WHEN 'm' THEN '%s' WHEN '\
i' THEN '%s' WHEN 'S' THEN '%s' WHEN 't' THEN '%s' WHEN 'f' THEN '%s' WHEN 'p' T\
HEN '%s' WHEN 'I' THEN '%s' END as "%s",
  pg_catalog.pg_get_userbyid(c.relowner) as "%s"`,"Schema","Name","table","view",
"materialized view","index","sequence","TOAST table","foreign table","partitione\
d table","partitioned index","Type","Owner"),T=4,e&&(u(p,`,
  c2.relname as "%s"`,"Table"),T++),a&&(u(p,`,
  CASE c.relpersistence WHEN 'p' THEN '%s' WHEN 't' THEN '%s' WHEN 'u' THEN '%s'\
 END as "%s"`,"permanent","temporary","unlogged","Persistence"),y[T]=!0,o.sversion>=
12e4&&!o.hide_tableam&&(l||d||e)&&u(p,`,
  am.amname as "%s"`,"Access method"),u(p,`,
  pg_catalog.pg_size_pretty(pg_catalog.pg_table_size(c.oid)) as "%s",
  pg_catalog.obj_description(c.oid, 'pg_class') as "%s"`,"Size","Description")),
i(p,`
FROM pg_catalog.pg_class c
     LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace`),o.sversion>=
12e4&&!o.hide_tableam&&(l||d||e)&&i(p,`
     LEFT JOIN pg_catalog.pg_am am ON am.oid = c.relam`),e&&i(p,`
     LEFT JOIN pg_catalog.pg_index i ON i.indexrelid = c.oid
     LEFT JOIN pg_catalog.pg_class c2 ON i.indrelid = c2.oid`),i(p,`
WHERE c.relkind IN (`),l&&(i(p,"'r','p',"),(n||s)&&i(p,"'t',")),r&&i(p,"'v',"),d&&
i(p,"'m',"),e&&i(p,"'i','I',"),f&&i(p,"'S',"),(n||s)&&i(p,"'s',"),L&&i(p,"'f',"),
i(p,"''"),i(p,`)
`),!n&&!s&&i(p,`      AND n.nspname <> 'pg_catalog'
      AND n.nspname !~ '^pg_toast'
      AND n.nspname <> 'information_schema'
`),!D(p,s,!0,!1,"n.nspname","c.relname",null,"pg_catalog.pg_table_is_visible(c.o\
id)",null,3)||(i(p,"ORDER BY 1,2;"),m=await O(p.data),!m)?!1:(H(m)==0&&!o.quiet?
s?W('Did not find any relation named "%s".',s):W("Did not find any relations."):
(N.nullPrint=null,N.title="List of relations",N.translate_header=!0,N.translate_columns=
y,N.n_translate_columns=P(y),w(m,N,o.queryFout,!1,o.logfile)),!0)}async function Ja(t,s,a){
let n=J(t,"t")!=null,l=J(t,"i")!=null,e=J(t,"n")!=null,r={},d={},f,L=o.popt,p=[!1,
!1,!1,!1,!1,!1,!1,!1,!1],m,N=!1;if(o.sversion<1e5){let T;return W("The server (v\
ersion %s) does not support declarative table partitioning.",ne(o.sversion,!1,T,
te(T))),!0}return!n&&!l&&(n=l=!0),l&&!n?m="List of partitioned indexes":n&&!l?m=
"List of partitioned tables":(m="List of partitioned relations",N=!0),A(r),_(r,`\
SELECT n.nspname as "%s",
  c.relname as "%s",
  pg_catalog.pg_get_userbyid(c.relowner) as "%s"`,"Schema","Name","Owner"),N&&(u(
r,`,
  CASE c.relkind WHEN 'p' THEN '%s' WHEN 'I' THEN '%s' END as "%s"`,"partitioned\
 table","partitioned index","Type"),p[3]=!0),(e||s)&&u(r,`,
  inh.inhparent::pg_catalog.regclass as "%s"`,"Parent name"),l&&u(r,`,
 c2.oid::pg_catalog.regclass as "%s"`,"Table"),a&&(e&&u(r,`,
  s.dps as "%s"`,"Leaf partition size"),u(r,`,
  s.tps as "%s"`,"Total size"),u(r,`,
  pg_catalog.obj_description(c.oid, 'pg_class') as "%s"`,"Description")),i(r,`
FROM pg_catalog.pg_class c
     LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace`),l&&i(r,`
     LEFT JOIN pg_catalog.pg_index i ON i.indexrelid = c.oid
     LEFT JOIN pg_catalog.pg_class c2 ON i.indrelid = c2.oid`),(e||s)&&i(r,`
     LEFT JOIN pg_catalog.pg_inherits inh ON c.oid = inh.inhrelid`),a&&(o.sversion<
12e4?i(r,`,
     LATERAL (WITH RECURSIVE d
                AS (SELECT inhrelid AS oid, 1 AS level
                      FROM pg_catalog.pg_inherits
                     WHERE inhparent = c.oid
                    UNION ALL
                    SELECT inhrelid, level + 1
                      FROM pg_catalog.pg_inherits i
                           JOIN d ON i.inhparent = d.oid)
                SELECT pg_catalog.pg_size_pretty(sum(pg_catalog.pg_table_size(d.\
oid))) AS tps,
                       pg_catalog.pg_size_pretty(sum(
             CASE WHEN d.level = 1 THEN pg_catalog.pg_table_size(d.oid) ELSE 0 E\
ND)) AS dps
               FROM d) s`):i(r,`,
     LATERAL (SELECT pg_catalog.pg_size_pretty(sum(
                 CASE WHEN ppt.isleaf AND ppt.level = 1
                      THEN pg_catalog.pg_table_size(ppt.relid) ELSE 0 END)) AS d\
ps,
                     pg_catalog.pg_size_pretty(sum(pg_catalog.pg_table_size(ppt.\
relid))) AS tps
              FROM pg_catalog.pg_partition_tree(c.oid) ppt) s`)),i(r,`
WHERE c.relkind IN (`),n&&i(r,"'p',"),l&&i(r,"'I',"),i(r,"''"),i(r,`)
`),i(r,!e&&!s?` AND NOT c.relispartition
`:""),s||i(r,`      AND n.nspname <> 'pg_catalog'
      AND n.nspname !~ '^pg_toast'
      AND n.nspname <> 'information_schema'
`),!D(r,s,!0,!1,"n.nspname","c.relname",null,"pg_catalog.pg_table_is_visible(c.o\
id)",null,3)||(u(r,'ORDER BY "Schema", %s%s"Name";',N?'"Type" DESC, ':"",e||s?'"\
Parent name" NULLS FIRST, ':""),f=await O(r.data),!f)?!1:(A(d),i(d,m),L.nullPrint=
null,L.title=d.data,L.translate_header=!0,L.translate_columns=p,L.n_translate_columns=
P(p),w(f,L,o.queryFout,!1,o.logfile),!0)}async function Ya(t,s,a){let n={},l,e=o.
popt;return A(n),_(n,`SELECT l.lanname AS "%s",
       pg_catalog.pg_get_userbyid(l.lanowner) as "%s",
       l.lanpltrusted AS "%s"`,"Name","Owner","Trusted"),s&&(u(n,`,
       NOT l.lanispl AS "%s",
       l.lanplcallfoid::pg_catalog.regprocedure AS "%s",
       l.lanvalidator::pg_catalog.regprocedure AS "%s",
       l.laninline::pg_catalog.regprocedure AS "%s",
       `,"Internal language","Call handler","Validator","Inline handler"),await V(
n,"l.lanacl")),u(n,`,
       d.description AS "%s"
FROM pg_catalog.pg_language l
LEFT JOIN pg_catalog.pg_description d
  ON d.classoid = l.tableoid AND d.objoid = l.oid
  AND d.objsubid = 0
`,"Description"),t&&!D(n,t,!1,!1,null,"l.lanname",null,null,null,2)||(!a&&!t&&i(
n,`WHERE l.lanplcallfoid != 0
`),i(n,"ORDER BY 1;"),l=await O(n.data),!l)?!1:(e.nullPrint=null,e.title="List o\
f languages",e.translate_header=!0,w(l,e,o.queryFout,!1,o.logfile),!0)}async function qa(t,s,a){
let n={},l,e=o.popt;return A(n),_(n,`SELECT n.nspname as "%s",
       t.typname as "%s",
       pg_catalog.format_type(t.typbasetype, t.typtypmod) as "%s",
       (SELECT c.collname FROM pg_catalog.pg_collation c, pg_catalog.pg_type bt
        WHERE c.oid = t.typcollation AND bt.oid = t.typbasetype AND t.typcollati\
on <> bt.typcollation) as "%s",
       CASE WHEN t.typnotnull THEN 'not null' END as "%s",
       t.typdefault as "%s",
       pg_catalog.array_to_string(ARRAY(
         SELECT pg_catalog.pg_get_constraintdef(r.oid, true) FROM pg_catalog.pg_\
constraint r WHERE t.oid = r.contypid
       ), ' ') as "%s"`,"Schema","Name","Type","Collation","Nullable","Default",
"Check"),s&&(i(n,`,
  `),await V(n,"t.typacl"),u(n,`,
       d.description as "%s"`,"Description")),i(n,`
FROM pg_catalog.pg_type t
     LEFT JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace
`),s&&i(n,`     LEFT JOIN pg_catalog.pg_description d ON d.classoid = t.tableoid\
 AND d.objoid = t.oid AND d.objsubid = 0
`),i(n,`WHERE t.typtype = 'd'
`),!a&&!t&&i(n,`      AND n.nspname <> 'pg_catalog'
      AND n.nspname <> 'information_schema'
`),!D(n,t,!0,!1,"n.nspname","t.typname",null,"pg_catalog.pg_type_is_visible(t.oi\
d)",null,3)||(i(n,"ORDER BY 1, 2;"),l=await O(n.data),!l)?!1:(e.nullPrint=null,e.
title="List of domains",e.translate_header=!0,w(l,e,o.queryFout,!1,o.logfile),!0)}
async function Ba(t,s,a){let n={},l,e=o.popt,r=[!1,!1,!1,!1,!0,!1];return A(n),_(
n,`SELECT n.nspname AS "%s",
       c.conname AS "%s",
       pg_catalog.pg_encoding_to_char(c.conforencoding) AS "%s",
       pg_catalog.pg_encoding_to_char(c.contoencoding) AS "%s",
       CASE WHEN c.condefault THEN '%s'
       ELSE '%s' END AS "%s"`,"Schema","Name","Source","Destination","yes","no",
"Default?"),s&&u(n,`,
       d.description AS "%s"`,"Description"),i(n,`
FROM pg_catalog.pg_conversion c
     JOIN pg_catalog.pg_namespace n ON n.oid = c.connamespace
`),s&&i(n,`LEFT JOIN pg_catalog.pg_description d ON d.classoid = c.tableoid
          AND d.objoid = c.oid AND d.objsubid = 0
`),i(n,`WHERE true
`),!a&&!t&&i(n,`  AND n.nspname <> 'pg_catalog'
  AND n.nspname <> 'information_schema'
`),!D(n,t,!0,!1,"n.nspname","c.conname",null,"pg_catalog.pg_conversion_is_visibl\
e(c.oid)",null,3)||(i(n,"ORDER BY 1, 2;"),l=await O(n.data),!l)?!1:(e.nullPrint=
null,e.title="List of conversions",e.translate_header=!0,e.translate_columns=r,e.
n_translate_columns=P(r),w(l,e,o.queryFout,!1,o.logfile),!0)}async function ja(t,s,a){
let n={},l,e=o.popt;return A(n),_(n,'SELECT s.name AS "%s", pg_catalog.current_s\
etting(s.name) AS "%s"',"Parameter","Value"),s&&(u(n,', s.vartype AS "%s", s.con\
text AS "%s", ',"Type","Context"),o.sversion>=15e4?await V(n,"p.paracl"):u(n,'NU\
LL AS "%s"',"Access privileges")),i(n,`
FROM pg_catalog.pg_settings s
`),s&&o.sversion>=15e4&&i(n,`  LEFT JOIN pg_catalog.pg_parameter_acl p
  ON pg_catalog.lower(s.name) = p.parname
`),t?Ke(o.db,n,t,!1,!1,null,"pg_catalog.lower(s.name)",null,null,null,null):i(n,
`WHERE s.source <> 'default' AND
      s.setting IS DISTINCT FROM s.boot_val
`),i(n,"ORDER BY 1;"),l=await O(n.data),l?(e.nullPrint=null,t?e.title="List of c\
onfiguration parameters":e.title="List of non-default configuration parameters",
e.translate_header=!0,w(l,e,o.queryFout,!1,o.logfile),!0):!1}async function Qa(t,s){
let a={},n,l=o.popt,e=[!1,!1,!1,!0,!1,!1,!1];if(o.sversion<90300){let r;return W(
"The server (version %s) does not support event triggers.",ne(o.sversion,!1,r,te(
r))),!0}return A(a),_(a,`SELECT evtname as "%s", evtevent as "%s", pg_catalog.pg\
_get_userbyid(e.evtowner) as "%s",
 case evtenabled when 'O' then '%s'  when 'R' then '%s'  when 'A' then '%s'  whe\
n 'D' then '%s' end as "%s",
 e.evtfoid::pg_catalog.regproc as "%s", pg_catalog.array_to_string(array(select \
x from pg_catalog.unnest(evttags) as t(x)), ', ') as "%s"`,"Name","Event","Owner",
"enabled","replica","always","disabled","Enabled","Function","Tags"),s&&u(a,`,
pg_catalog.obj_description(e.oid, 'pg_event_trigger') as "%s"`,"Description"),i(
a,`
FROM pg_catalog.pg_event_trigger e `),!D(a,t,!1,!1,null,"evtname",null,null,null,
1)||(i(a,"ORDER BY 1"),n=await O(a.data),!n)?!1:(l.nullPrint=null,l.title="List \
of event triggers",l.translate_header=!0,l.translate_columns=e,l.n_translate_columns=
P(e),w(n,l,o.queryFout,!1,o.logfile),!0)}async function za(t){let s={},a,n=o.popt;
if(o.sversion<1e5){let l;return W("The server (version %s) does not support exte\
nded statistics.",ne(o.sversion,!1,l,te(l))),!0}return A(s),_(s,`SELECT 
es.stxnamespace::pg_catalog.regnamespace::pg_catalog.text AS "%s", 
es.stxname AS "%s", 
`,"Schema","Name"),o.sversion>=14e4?u(s,`pg_catalog.format('%%s FROM %%s', 
  pg_catalog.pg_get_statisticsobjdef_columns(es.oid), 
  es.stxrelid::pg_catalog.regclass) AS "%s"`,"Definition"):u(s,`pg_catalog.forma\
t('%%s FROM %%s', 
  (SELECT pg_catalog.string_agg(pg_catalog.quote_ident(a.attname),', ') 
   FROM pg_catalog.unnest(es.stxkeys) s(attnum) 
   JOIN pg_catalog.pg_attribute a 
   ON (es.stxrelid = a.attrelid 
   AND a.attnum = s.attnum 
   AND NOT a.attisdropped)), 
es.stxrelid::pg_catalog.regclass) AS "%s"`,"Definition"),u(s,`,
CASE WHEN 'd' = any(es.stxkind) THEN 'defined' 
END AS "%s", 
CASE WHEN 'f' = any(es.stxkind) THEN 'defined' 
END AS "%s"`,"Ndistinct","Dependencies"),o.sversion>=12e4&&u(s,`,
CASE WHEN 'm' = any(es.stxkind) THEN 'defined' 
END AS "%s" `,"MCV"),i(s,` 
FROM pg_catalog.pg_statistic_ext es 
`),!D(s,t,!1,!1,"es.stxnamespace::pg_catalog.regnamespace::pg_catalog.text","es.\
stxname",null,"pg_catalog.pg_statistics_obj_is_visible(es.oid)",null,3)||(i(s,"O\
RDER BY 1, 2;"),a=await O(s.data),!a)?!1:(n.nullPrint=null,n.title="List of exte\
nded statistics",n.translate_header=!0,w(a,n,o.queryFout,!1,o.logfile),!0)}async function Ka(t,s){
let a={},n,l=o.popt,e=[!1,!1,!1,!0,!1];return A(a),_(a,`SELECT pg_catalog.format\
_type(castsource, NULL) AS "%s",
       pg_catalog.format_type(casttarget, NULL) AS "%s",
`,"Source type","Target type"),u(a,`       CASE WHEN c.castmethod = '%c' THEN '(\
binary coercible)'
            WHEN c.castmethod = '%c' THEN '(with inout)'
            ELSE p.proname
       END AS "%s",
`,na,sa,"Function"),u(a,`       CASE WHEN c.castcontext = '%c' THEN '%s'
            WHEN c.castcontext = '%c' THEN '%s'
            ELSE '%s'
       END AS "%s"`,ia,"no",la,"in assignment","yes","Implicit?"),s&&u(a,`,
       d.description AS "%s"`,"Description"),i(a,`
FROM pg_catalog.pg_cast c LEFT JOIN pg_catalog.pg_proc p
     ON c.castfunc = p.oid
     LEFT JOIN pg_catalog.pg_type ts
     ON c.castsource = ts.oid
     LEFT JOIN pg_catalog.pg_namespace ns
     ON ns.oid = ts.typnamespace
     LEFT JOIN pg_catalog.pg_type tt
     ON c.casttarget = tt.oid
     LEFT JOIN pg_catalog.pg_namespace nt
     ON nt.oid = tt.typnamespace
`),s&&i(a,`     LEFT JOIN pg_catalog.pg_description d
     ON d.classoid = c.tableoid AND d.objoid = c.oid AND d.objsubid = 0
`),i(a,"WHERE ( (true"),!D(a,t,!0,!1,"ns.nspname","ts.typname","pg_catalog.forma\
t_type(ts.oid, NULL)","pg_catalog.pg_type_is_visible(ts.oid)",null,3)||(i(a,") O\
R (true"),!D(a,t,!0,!1,"nt.nspname","tt.typname","pg_catalog.format_type(tt.oid,\
 NULL)","pg_catalog.pg_type_is_visible(tt.oid)",null,3))||(i(a,`) )
ORDER BY 1, 2;`),n=await O(a.data),!n)?!1:(l.nullPrint=null,l.title="List of cas\
ts",l.translate_header=!0,l.translate_columns=e,l.n_translate_columns=P(e),w(n,l,
o.queryFout,!1,o.logfile),!0)}async function Va(t,s,a){let n={},l,e=o.popt,r=[!1,
!1,!1,!1,!1,!1,!1,!0,!1];return A(n),_(n,`SELECT
  n.nspname AS "%s",
  c.collname AS "%s",
`,"Schema","Name"),o.sversion>=1e5?u(n,`  CASE c.collprovider WHEN 'd' THEN 'def\
ault' WHEN 'c' THEN 'libc' WHEN 'i' THEN 'icu' END AS "%s",
`,"Provider"):u(n,`  'libc' AS "%s",
`,"Provider"),u(n,`  c.collcollate AS "%s",
  c.collctype AS "%s",
`,"Collate","Ctype"),o.sversion>=15e4?u(n,`  c.colliculocale AS "%s",
`,"ICU Locale"):u(n,`  c.collcollate AS "%s",
`,"ICU Locale"),o.sversion>=16e4?u(n,`  c.collicurules AS "%s",
`,"ICU Rules"):u(n,`  NULL AS "%s",
`,"ICU Rules"),o.sversion>=12e4?u(n,`  CASE WHEN c.collisdeterministic THEN '%s'\
 ELSE '%s' END AS "%s"`,"yes","no","Deterministic?"):u(n,`  '%s' AS "%s"`,"yes",
"Deterministic?"),s&&u(n,`,
  pg_catalog.obj_description(c.oid, 'pg_collation') AS "%s"`,"Description"),i(n,
`
FROM pg_catalog.pg_collation c, pg_catalog.pg_namespace n
WHERE n.oid = c.collnamespace
`),!a&&!t&&i(n,`      AND n.nspname <> 'pg_catalog'
      AND n.nspname <> 'information_schema'
`),i(n,`      AND c.collencoding IN (-1, pg_catalog.pg_char_to_encoding(pg_catal\
og.getdatabaseencoding()))
`),!D(n,t,!0,!1,"n.nspname","c.collname",null,"pg_catalog.pg_collation_is_visibl\
e(c.oid)",null,3)||(i(n,"ORDER BY 1, 2;"),l=await O(n.data),!l)?!1:(e.nullPrint=
null,e.title="List of collations",e.translate_header=!0,e.translate_columns=r,e.
n_translate_columns=P(r),w(l,e,o.queryFout,!1,o.logfile),!0)}async function Ga(t,s,a){
let n={},l,e=o.popt,r=0,d=null;if(A(n),_(n,`SELECT n.nspname AS "%s",
  pg_catalog.pg_get_userbyid(n.nspowner) AS "%s"`,"Name","Owner"),s&&(i(n,`,
  `),await V(n,"n.nspacl"),u(n,`,
  pg_catalog.obj_description(n.oid, 'pg_namespace') AS "%s"`,"Description")),i(n,
`
FROM pg_catalog.pg_namespace n
`),!a&&!t&&i(n,`WHERE n.nspname !~ '^pg_' AND n.nspname <> 'information_schema'
`),!D(n,t,!a&&!t,!1,null,"n.nspname",null,null,null,2)||(i(n,"ORDER BY 1;"),l=await O(
n.data),!l))return!1;if(e.nullPrint=null,e.title="List of schemas",e.translate_header=
!0,t&&o.sversion>=15e4){let f,L;if(_(n,`SELECT pubname 
FROM pg_catalog.pg_publication p
     JOIN pg_catalog.pg_publication_namespace pn ON p.oid = pn.pnpubid
     JOIN pg_catalog.pg_namespace n ON n.oid = pn.pnnspid 
WHERE n.nspname = '%s'
ORDER BY 1`,t),f=await O(n.data),f)r=H(f);else return!1;if(r>0){for(d=[],d[0]="P\
ublications:",L=0;L<r;L++)_(n,'    "%s"',g(f,L,0)),d[L+1]=n.data;d[L+1]=null,e.footers=
d}}return w(l,e,o.queryFout,!1,o.logfile),!0}async function $a(t,s){let a={},n,l=o.
popt;return s?await Xa(t):(A(a),_(a,`SELECT
  n.nspname as "%s",
  p.prsname as "%s",
  pg_catalog.obj_description(p.oid, 'pg_ts_parser') as "%s"
FROM pg_catalog.pg_ts_parser p
LEFT JOIN pg_catalog.pg_namespace n ON n.oid = p.prsnamespace
`,"Schema","Name","Description"),!D(a,t,!1,!1,"n.nspname","p.prsname",null,"pg_c\
atalog.pg_ts_parser_is_visible(p.oid)",null,3)||(i(a,"ORDER BY 1, 2;"),n=await O(
a.data),!n)?!1:(l.nullPrint=null,l.title="List of text search parsers",l.translate_header=
!0,w(n,l,o.queryFout,!1,o.logfile),!0))}async function Xa(t){let s={},a,n;if(A(s),
_(s,`SELECT p.oid,
  n.nspname,
  p.prsname
FROM pg_catalog.pg_ts_parser p
LEFT JOIN pg_catalog.pg_namespace n ON n.oid = p.prsnamespace
`),!D(s,t,!1,!1,"n.nspname","p.prsname",null,"pg_catalog.pg_ts_parser_is_visible\
(p.oid)",null,3)||(i(s,"ORDER BY 1, 2;"),a=await O(s.data),!a))return!1;if(H(a)==
0)return o.quiet||(t?W('Did not find any text search parser named "%s".',t):W("D\
id not find any text search parsers.")),!1;for(n=0;n<H(a);n++){let l,e=null,r;if(l=
g(a,n,0),Y(a,n,1)||(e=g(a,n,1)),r=g(a,n,2),!await Za(l,e,r))return!1}return!0}async function Za(t,s,a){
let n={},l,e={},r=o.popt,d=[!0,!1,!1];return A(n),_(n,`SELECT '%s' AS "%s",
   p.prsstart::pg_catalog.regproc AS "%s",
   pg_catalog.obj_description(p.prsstart, 'pg_proc') as "%s"
 FROM pg_catalog.pg_ts_parser p
 WHERE p.oid = '%s'
UNION ALL
SELECT '%s',
   p.prstoken::pg_catalog.regproc,
   pg_catalog.obj_description(p.prstoken, 'pg_proc')
 FROM pg_catalog.pg_ts_parser p
 WHERE p.oid = '%s'
UNION ALL
SELECT '%s',
   p.prsend::pg_catalog.regproc,
   pg_catalog.obj_description(p.prsend, 'pg_proc')
 FROM pg_catalog.pg_ts_parser p
 WHERE p.oid = '%s'
UNION ALL
SELECT '%s',
   p.prsheadline::pg_catalog.regproc,
   pg_catalog.obj_description(p.prsheadline, 'pg_proc')
 FROM pg_catalog.pg_ts_parser p
 WHERE p.oid = '%s'
UNION ALL
SELECT '%s',
   p.prslextype::pg_catalog.regproc,
   pg_catalog.obj_description(p.prslextype, 'pg_proc')
 FROM pg_catalog.pg_ts_parser p
 WHERE p.oid = '%s';`,"Start parse","Method","Function","Description",t,"Get nex\
t token",t,"End parse",t,"Get headline",t,"Get token types",t),l=await O(n.data),
!l||(r.nullPrint=null,A(e),s?_(e,'Text search parser "%s.%s"',s,a):_(e,'Text sea\
rch parser "%s"',a),r.title=e.data,r.footers=null,r.topt.default_footer=!1,r.translate_header=
!0,r.translate_columns=d,r.n_translate_columns=P(d),w(l,r,o.queryFout,!1,o.logfile),
A(n),_(n,`SELECT t.alias as "%s",
  t.description as "%s"
FROM pg_catalog.ts_token_type( '%s'::pg_catalog.oid ) as t
ORDER BY 1;`,"Token name","Description",t),l=await O(n.data),!l)?!1:(r.nullPrint=
null,s?_(e,'Token types for parser "%s.%s"',s,a):_(e,'Token types for parser "%s\
"',a),r.title=e.data,r.footers=null,r.topt.default_footer=!0,r.translate_header=
!0,r.translate_columns=null,r.n_translate_columns=0,w(l,r,o.queryFout,!1,o.logfile),
!0)}async function et(t,s){let a={},n,l=o.popt;return A(a),_(a,`SELECT
  n.nspname as "%s",
  d.dictname as "%s",
`,"Schema","Name"),s&&u(a,`  ( SELECT COALESCE(nt.nspname, '(null)')::pg_catalog\
.text || '.' || t.tmplname FROM
    pg_catalog.pg_ts_template t
    LEFT JOIN pg_catalog.pg_namespace nt ON nt.oid = t.tmplnamespace
    WHERE d.dicttemplate = t.oid ) AS  "%s",
  d.dictinitoption as "%s",
`,"Template","Init options"),u(a,`  pg_catalog.obj_description(d.oid, 'pg_ts_dic\
t') as "%s"
`,"Description"),i(a,`FROM pg_catalog.pg_ts_dict d
LEFT JOIN pg_catalog.pg_namespace n ON n.oid = d.dictnamespace
`),!D(a,t,!1,!1,"n.nspname","d.dictname",null,"pg_catalog.pg_ts_dict_is_visible(\
d.oid)",null,3)||(i(a,"ORDER BY 1, 2;"),n=await O(a.data),!n)?!1:(l.nullPrint=null,
l.title="List of text search dictionaries",l.translate_header=!0,w(n,l,o.queryFout,
!1,o.logfile),!0)}async function at(t,s){let a={},n,l=o.popt;return A(a),s?_(a,`\
SELECT
  n.nspname AS "%s",
  t.tmplname AS "%s",
  t.tmplinit::pg_catalog.regproc AS "%s",
  t.tmpllexize::pg_catalog.regproc AS "%s",
  pg_catalog.obj_description(t.oid, 'pg_ts_template') AS "%s"
`,"Schema","Name","Init","Lexize","Description"):_(a,`SELECT
  n.nspname AS "%s",
  t.tmplname AS "%s",
  pg_catalog.obj_description(t.oid, 'pg_ts_template') AS "%s"
`,"Schema","Name","Description"),i(a,`FROM pg_catalog.pg_ts_template t
LEFT JOIN pg_catalog.pg_namespace n ON n.oid = t.tmplnamespace
`),!D(a,t,!1,!1,"n.nspname","t.tmplname",null,"pg_catalog.pg_ts_template_is_visi\
ble(t.oid)",null,3)||(i(a,"ORDER BY 1, 2;"),n=await O(a.data),!n)?!1:(l.nullPrint=
null,l.title="List of text search templates",l.translate_header=!0,w(n,l,o.queryFout,
!1,o.logfile),!0)}async function tt(t,s){let a={},n,l=o.popt;return s?await nt(t):
(A(a),_(a,`SELECT
   n.nspname as "%s",
   c.cfgname as "%s",
   pg_catalog.obj_description(c.oid, 'pg_ts_config') as "%s"
FROM pg_catalog.pg_ts_config c
LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.cfgnamespace
`,"Schema","Name","Description"),!D(a,t,!1,!1,"n.nspname","c.cfgname",null,"pg_c\
atalog.pg_ts_config_is_visible(c.oid)",null,3)||(i(a,"ORDER BY 1, 2;"),n=await O(
a.data),!n)?!1:(l.nullPrint=null,l.title="List of text search configurations",l.
translate_header=!0,w(n,l,o.queryFout,!1,o.logfile),!0))}async function nt(t){let s={},
a,n;if(A(s),_(s,`SELECT c.oid, c.cfgname,
   n.nspname,
   p.prsname,
   np.nspname as pnspname
FROM pg_catalog.pg_ts_config c
   LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.cfgnamespace,
 pg_catalog.pg_ts_parser p
   LEFT JOIN pg_catalog.pg_namespace np ON np.oid = p.prsnamespace
WHERE  p.oid = c.cfgparser
`),!D(s,t,!0,!1,"n.nspname","c.cfgname",null,"pg_catalog.pg_ts_config_is_visible\
(c.oid)",null,3)||(i(s,"ORDER BY 3, 2;"),a=await O(s.data),!a))return!1;if(H(a)==
0)return o.quiet||(t?W('Did not find any text search configuration named "%s".',
t):W("Did not find any text search configurations.")),!1;for(n=0;n<H(a);n++){let l,
e,r=null,d,f=null;if(l=g(a,n,0),e=g(a,n,1),Y(a,n,2)||(r=g(a,n,2)),d=g(a,n,3),Y(a,
n,4)||(f=g(a,n,4)),!await st(l,r,e,f,d))return!1}return!0}async function st(t,s,a,n,l){
let e={},r={},d,f=o.popt;return A(e),_(e,`SELECT
  ( SELECT t.alias FROM
    pg_catalog.ts_token_type(c.cfgparser) AS t
    WHERE t.tokid = m.maptokentype ) AS "%s",
  pg_catalog.btrim(
    ARRAY( SELECT mm.mapdict::pg_catalog.regdictionary
           FROM pg_catalog.pg_ts_config_map AS mm
           WHERE mm.mapcfg = m.mapcfg AND mm.maptokentype = m.maptokentype
           ORDER BY mapcfg, maptokentype, mapseqno
    ) :: pg_catalog.text,
  '{}') AS "%s"
FROM pg_catalog.pg_ts_config AS c, pg_catalog.pg_ts_config_map AS m
WHERE c.oid = '%s' AND m.mapcfg = c.oid
GROUP BY m.mapcfg, m.maptokentype, c.cfgparser
ORDER BY 1;`,"Token","Dictionaries",t),d=await O(e.data),d?(A(r),s?u(r,'Text sea\
rch configuration "%s.%s"',s,a):u(r,'Text search configuration "%s"',a),n?u(r,`
Parser: "%s.%s"`,n,l):u(r,`
Parser: "%s"`,l),f.nullPrint=null,f.title=r.data,f.footers=null,f.topt.default_footer=
!1,f.translate_header=!0,w(d,f,o.queryFout,!1,o.logfile),!0):!1}async function lt(t,s){
let a={},n,l=o.popt;return A(a),_(a,`SELECT fdw.fdwname AS "%s",
  pg_catalog.pg_get_userbyid(fdw.fdwowner) AS "%s",
  fdw.fdwhandler::pg_catalog.regproc AS "%s",
  fdw.fdwvalidator::pg_catalog.regproc AS "%s"`,"Name","Owner","Handler","Valida\
tor"),s&&(i(a,`,
  `),await V(a,"fdwacl"),u(a,`,
 CASE WHEN fdwoptions IS NULL THEN '' ELSE   '(' || pg_catalog.array_to_string(A\
RRAY(SELECT   pg_catalog.quote_ident(option_name) ||  ' ' ||   pg_catalog.quote_\
literal(option_value)  FROM   pg_catalog.pg_options_to_table(fdwoptions)),  ', '\
) || ')'   END AS "%s",
  d.description AS "%s" `,"FDW options","Description")),i(a,`
FROM pg_catalog.pg_foreign_data_wrapper fdw
`),s&&i(a,`LEFT JOIN pg_catalog.pg_description d
       ON d.classoid = fdw.tableoid AND d.objoid = fdw.oid AND d.objsubid = 0
`),!D(a,t,!1,!1,null,"fdwname",null,null,null,1)||(i(a,"ORDER BY 1;"),n=await O(
a.data),!n)?!1:(l.nullPrint=null,l.title="List of foreign-data wrappers",l.translate_header=
!0,w(n,l,o.queryFout,!1,o.logfile),!0)}async function it(t,s){let a={},n,l=o.popt;
return A(a),_(a,`SELECT s.srvname AS "%s",
  pg_catalog.pg_get_userbyid(s.srvowner) AS "%s",
  f.fdwname AS "%s"`,"Name","Owner","Foreign-data wrapper"),s&&(i(a,`,
  `),await V(a,"s.srvacl"),u(a,`,
  s.srvtype AS "%s",
  s.srvversion AS "%s",
  CASE WHEN srvoptions IS NULL THEN '' ELSE   '(' || pg_catalog.array_to_string(\
ARRAY(SELECT   pg_catalog.quote_ident(option_name) ||  ' ' ||   pg_catalog.quote\
_literal(option_value)  FROM   pg_catalog.pg_options_to_table(srvoptions)),  ', \
') || ')'   END AS "%s",
  d.description AS "%s"`,"Type","Version","FDW options","Description")),i(a,`
FROM pg_catalog.pg_foreign_server s
     JOIN pg_catalog.pg_foreign_data_wrapper f ON f.oid=s.srvfdw
`),s&&i(a,`LEFT JOIN pg_catalog.pg_description d
       ON d.classoid = s.tableoid AND d.objoid = s.oid AND d.objsubid = 0
`),!D(a,t,!1,!1,null,"s.srvname",null,null,null,1)||(i(a,"ORDER BY 1;"),n=await O(
a.data),!n)?!1:(l.nullPrint=null,l.title="List of foreign servers",l.translate_header=
!0,w(n,l,o.queryFout,!1,o.logfile),!0)}async function rt(t,s){let a={},n,l=o.popt;
return A(a),_(a,`SELECT um.srvname AS "%s",
  um.usename AS "%s"`,"Server","User name"),s&&u(a,`,
 CASE WHEN umoptions IS NULL THEN '' ELSE   '(' || pg_catalog.array_to_string(AR\
RAY(SELECT   pg_catalog.quote_ident(option_name) ||  ' ' ||   pg_catalog.quote_l\
iteral(option_value)  FROM   pg_catalog.pg_options_to_table(umoptions)),  ', ') \
|| ')'   END AS "%s"`,"FDW options"),i(a,`
FROM pg_catalog.pg_user_mappings um
`),!D(a,t,!1,!1,null,"um.srvname","um.usename",null,null,1)||(i(a,"ORDER BY 1, 2\
;"),n=await O(a.data),!n)?!1:(l.nullPrint=null,l.title="List of user mappings",l.
translate_header=!0,w(n,l,o.queryFout,!1,o.logfile),!0)}async function ot(t,s){let a={},
n,l=o.popt;return A(a),_(a,`SELECT n.nspname AS "%s",
  c.relname AS "%s",
  s.srvname AS "%s"`,"Schema","Table","Server"),s&&u(a,`,
 CASE WHEN ftoptions IS NULL THEN '' ELSE   '(' || pg_catalog.array_to_string(AR\
RAY(SELECT   pg_catalog.quote_ident(option_name) ||  ' ' ||   pg_catalog.quote_l\
iteral(option_value)  FROM   pg_catalog.pg_options_to_table(ftoptions)),  ', ') \
|| ')'   END AS "%s",
  d.description AS "%s"`,"FDW options","Description"),i(a,`
FROM pg_catalog.pg_foreign_table ft
  INNER JOIN pg_catalog.pg_class c ON c.oid = ft.ftrelid
  INNER JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
  INNER JOIN pg_catalog.pg_foreign_server s ON s.oid = ft.ftserver
`),s&&i(a,`   LEFT JOIN pg_catalog.pg_description d
          ON d.classoid = c.tableoid AND d.objoid = c.oid AND d.objsubid = 0
`),!D(a,t,!1,!1,"n.nspname","c.relname",null,"pg_catalog.pg_table_is_visible(c.o\
id)",null,3)||(i(a,"ORDER BY 1, 2;"),n=await O(a.data),!n)?!1:(l.nullPrint=null,
l.title="List of foreign tables",l.translate_header=!0,w(n,l,o.queryFout,!1,o.logfile),
!0)}async function pt(t){let s={},a,n=o.popt;return A(s),_(s,`SELECT e.extname A\
S "%s", e.extversion AS "%s", n.nspname AS "%s", c.description AS "%s"
FROM pg_catalog.pg_extension e LEFT JOIN pg_catalog.pg_namespace n ON n.oid = e.\
extnamespace LEFT JOIN pg_catalog.pg_description c ON c.objoid = e.oid AND c.cla\
ssoid = 'pg_catalog.pg_extension'::pg_catalog.regclass
`,"Name","Version","Schema","Description"),!D(s,t,!1,!1,null,"e.extname",null,null,
null,1)||(i(s,"ORDER BY 1;"),a=await O(s.data),!a)?!1:(n.nullPrint=null,n.title=
"List of installed extensions",n.translate_header=!0,w(a,n,o.queryFout,!1,o.logfile),
!0)}async function ct(t){let s={},a,n;if(A(s),_(s,`SELECT e.extname, e.oid
FROM pg_catalog.pg_extension e
`),!D(s,t,!1,!1,null,"e.extname",null,null,null,1)||(i(s,"ORDER BY 1;"),a=await O(
s.data),!a))return!1;if(H(a)==0)return o.quiet||(t?W('Did not find any extension\
 named "%s".',t):W("Did not find any extensions.")),!1;for(n=0;n<H(a);n++){let l,
e;if(l=g(a,n,0),e=g(a,n,1),!await gt(l,e))return!1}return!0}async function gt(t,s){
let a={},n,l={},e=o.popt;return A(a),_(a,`SELECT pg_catalog.pg_describe_object(c\
lassid, objid, 0) AS "%s"
FROM pg_catalog.pg_depend
WHERE refclassid = 'pg_catalog.pg_extension'::pg_catalog.regclass AND refobjid =\
 '%s' AND deptype = 'e'
ORDER BY 1;`,"Object description",s),n=await O(a.data),n?(e.nullPrint=null,A(l),
_(l,'Objects in extension "%s"',t),e.title=l.data,e.translate_header=!0,w(n,e,o.
queryFout,!1,o.logfile),!0):!1}async function ft(t){let s={},a,n=o.popt,l=[!1,!1,
!1,!1,!1,!1,!1,!1];if(o.sversion<1e5){let e;return W("The server (version %s) do\
es not support publications.",ne(o.sversion,!1,e,te(e))),!0}return A(s),_(s,`SEL\
ECT pubname AS "%s",
  pg_catalog.pg_get_userbyid(pubowner) AS "%s",
  puballtables AS "%s",
  pubinsert AS "%s",
  pubupdate AS "%s",
  pubdelete AS "%s"`,"Name","Owner","All tables","Inserts","Updates","Deletes"),
o.sversion>=11e4&&u(s,`,
  pubtruncate AS "%s"`,"Truncates"),o.sversion>=13e4&&u(s,`,
  pubviaroot AS "%s"`,"Via root"),i(s,`
FROM pg_catalog.pg_publication
`),!D(s,t,!1,!1,null,"pubname",null,null,null,1)||(i(s,"ORDER BY 1;"),a=await O(
s.data),!a)?!1:(n.nullPrint=null,n.title="List of publications",n.translate_header=
!0,n.translate_columns=l,n.n_translate_columns=P(l),w(a,n,o.queryFout,!1,o.logfile),
!0)}async function Ze(t,s,a,n){let l,e=0,r=0;if(l=await O(t.data),l)e=H(l);else return!1;
for(e>0&&U(n,s),r=0;r<e;r++)a?_(t,'    "%s"',g(l,r,0)):(_(t,'    "%s.%s"',g(l,r,
0),g(l,r,1)),Y(l,r,3)||u(t," (%s)",g(l,r,3)),Y(l,r,2)||u(t," WHERE %s",g(l,r,2))),
U(n,t.data);return!0}async function _t(t){let s={},a,n,l,e,r={},d={};if(o.sversion<
1e5){let f;return W("The server (version %s) does not support publications.",ne(
o.sversion,!1,f,te(f))),!0}if(l=o.sversion>=11e4,e=o.sversion>=13e4,A(s),_(s,`SE\
LECT oid, pubname,
  pg_catalog.pg_get_userbyid(pubowner) AS owner,
  puballtables, pubinsert, pubupdate, pubdelete`),l&&i(s,", pubtruncate"),e&&i(s,
", pubviaroot"),i(s,`
FROM pg_catalog.pg_publication
`),!D(s,t,!1,!1,null,"pubname",null,null,null,1)||(i(s,"ORDER BY 2;"),n=await O(
s.data),!n))return!1;if(H(n)==0)return o.quiet||(t?W('Did not find any publicati\
on named "%s".',t):W("Did not find any publications.")),!1;for(a=0;a<H(n);a++){let f="\
l",L=5,p=1,m=g(n,a,0),N=g(n,a,1),T=b(g(n,a,3),"t")==0,y=o.popt.topt;if(l&&L++,e&&
L++,A(r),_(r,"Publication %s",N),De(d,y,r.data,L,p),K(d,"Owner",!0,f),K(d,"All t\
ables",!0,f),K(d,"Inserts",!0,f),K(d,"Updates",!0,f),K(d,"Deletes",!0,f),l&&K(d,
"Truncates",!0,f),e&&K(d,"Via root",!0,f),x(d,g(n,a,2),!1,!1),x(d,g(n,a,3),!1,!1),
x(d,g(n,a,4),!1,!1),x(d,g(n,a,5),!1,!1),x(d,g(n,a,6),!1,!1),l&&x(d,g(n,a,7),!1,!1),
e&&x(d,g(n,a,8),!1,!1),!T&&(_(s,"SELECT n.nspname, c.relname"),o.sversion>=15e4?
(i(s,", pg_get_expr(pr.prqual, c.oid)"),i(s,`, (CASE WHEN pr.prattrs IS NOT NULL\
 THEN
     pg_catalog.array_to_string(      ARRAY(SELECT attname
              FROM
                pg_catalog.generate_series(0, pg_catalog.array_upper(pr.prattrs:\
:pg_catalog.int2[], 1)) s,
                pg_catalog.pg_attribute
        WHERE attrelid = c.oid AND attnum = prattrs[s]), ', ')
       ELSE NULL END)`)):i(s,", NULL, NULL"),u(s,`
FROM pg_catalog.pg_class c,
     pg_catalog.pg_namespace n,
     pg_catalog.pg_publication_rel pr
WHERE c.relnamespace = n.oid
  AND c.oid = pr.prrelid
  AND pr.prpubid = '%s'
ORDER BY 1,2`,m),!await Ze(s,"Tables:",!1,d)||o.sversion>=15e4&&(_(s,`SELECT n.n\
spname
FROM pg_catalog.pg_namespace n
     JOIN pg_catalog.pg_publication_namespace pn ON n.oid = pn.pnnspid
WHERE pn.pnpubid = '%s'
ORDER BY 1`,m),!await Ze(s,"Tables from schemas:",!0,d))))return!1;Ue(d,o.queryFout,
!1,o.logfile)}return!0}async function dt(t,s){let a={},n,l=o.popt,e=[!1,!1,!1,!1,
!1,!1,!1,!1,!1,!1,!1,!1,!1,!1];if(o.sversion<1e5){let r;return W("The server (ve\
rsion %s) does not support subscriptions.",ne(o.sversion,!1,r,te(r))),!0}return A(
a),_(a,`SELECT subname AS "%s"
,  pg_catalog.pg_get_userbyid(subowner) AS "%s"
,  subenabled AS "%s"
,  subpublications AS "%s"
`,"Name","Owner","Enabled","Publication"),s&&(o.sversion>=14e4&&(u(a,`, subbinar\
y AS "%s"
`,"Binary"),o.sversion>=16e4?u(a,`, (CASE substream
    WHEN 'f' THEN 'off'
    WHEN 't' THEN 'on'
    WHEN 'p' THEN 'parallel'
   END) AS "%s"
`,"Streaming"):u(a,`, substream AS "%s"
`,"Streaming")),o.sversion>=15e4&&u(a,`, subtwophasestate AS "%s"
, subdisableonerr AS "%s"
`,"Two-phase commit","Disable on error"),o.sversion>=16e4&&u(a,`, suborigin AS "\
%s"
, subpasswordrequired AS "%s"
, subrunasowner AS "%s"
`,"Origin","Password required","Run as owner?"),u(a,`,  subsynccommit AS "%s"
,  subconninfo AS "%s"
`,"Synchronous commit","Conninfo"),o.sversion>=15e4&&u(a,`, subskiplsn AS "%s"
`,"Skip LSN")),i(a,`FROM pg_catalog.pg_subscription
WHERE subdbid = (SELECT oid
                 FROM pg_catalog.pg_database
                 WHERE datname = pg_catalog.current_database())`),!D(a,t,!0,!1,null,
"subname",null,null,null,1)||(i(a,"ORDER BY 1;"),n=await O(a.data),!n)?!1:(l.nullPrint=
null,l.title="List of subscriptions",l.translate_header=!0,l.translate_columns=e,
l.n_translate_columns=P(e),w(n,l,o.queryFout,!1,o.logfile),!0)}async function V(t,s){
u(t,`pg_catalog.array_to_string(%s, E'\\n') AS "%s"`,s,"Access privileges")}async function ut(t,s,a){
let n={},l,e=o.popt,r=!1,d=[!1,!1,!1,!1,!1,!1,!1];if(A(n),_(n,`SELECT
  am.amname AS "%s",
  pg_catalog.format_type(c.opcintype, NULL) AS "%s",
  CASE
    WHEN c.opckeytype <> 0 AND c.opckeytype <> c.opcintype
    THEN pg_catalog.format_type(c.opckeytype, NULL)
    ELSE NULL
  END AS "%s",
  CASE
    WHEN pg_catalog.pg_opclass_is_visible(c.oid)
    THEN pg_catalog.format('%%I', c.opcname)
    ELSE pg_catalog.format('%%I.%%I', n.nspname, c.opcname)
  END AS "%s",
  (CASE WHEN c.opcdefault
    THEN '%s'
    ELSE '%s'
  END) AS "%s"`,"AM","Input type","Storage type","Operator class","yes","no","De\
fault?"),a&&u(n,`,
  CASE
    WHEN pg_catalog.pg_opfamily_is_visible(of.oid)
    THEN pg_catalog.format('%%I', of.opfname)
    ELSE pg_catalog.format('%%I.%%I', ofn.nspname, of.opfname)
  END AS "%s",
 pg_catalog.pg_get_userbyid(c.opcowner) AS "%s"
`,"Operator family","Owner"),i(n,`
FROM pg_catalog.pg_opclass c
  LEFT JOIN pg_catalog.pg_am am on am.oid = c.opcmethod
  LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.opcnamespace
  LEFT JOIN pg_catalog.pg_type t ON t.oid = c.opcintype
  LEFT JOIN pg_catalog.pg_namespace tn ON tn.oid = t.typnamespace
`),a&&i(n,`  LEFT JOIN pg_catalog.pg_opfamily of ON of.oid = c.opcfamily
  LEFT JOIN pg_catalog.pg_namespace ofn ON ofn.oid = of.opfnamespace
`),t){if(r={value:r},!D(n,t,!1,!1,null,"am.amname",null,null,r,1))return!1;r=r.value}
return s&&!D(n,s,r,!1,"tn.nspname","t.typname","pg_catalog.format_type(t.oid, NU\
LL)","pg_catalog.pg_type_is_visible(t.oid)",null,3)||(i(n,"ORDER BY 1, 2, 4;"),l=
await O(n.data),!l)?!1:(e.nullPrint=null,e.title="List of operator classes",e.translate_header=
!0,e.translate_columns=d,e.n_translate_columns=P(d),w(l,e,o.queryFout,!1,o.logfile),
!0)}async function Et(t,s,a){let n={},l,e=o.popt,r=!1,d=[!1,!1,!1,!1];if(A(n),_(
n,`SELECT
  am.amname AS "%s",
  CASE
    WHEN pg_catalog.pg_opfamily_is_visible(f.oid)
    THEN pg_catalog.format('%%I', f.opfname)
    ELSE pg_catalog.format('%%I.%%I', n.nspname, f.opfname)
  END AS "%s",
  (SELECT
     pg_catalog.string_agg(pg_catalog.format_type(oc.opcintype, NULL), ', ')
   FROM pg_catalog.pg_opclass oc
   WHERE oc.opcfamily = f.oid) "%s"`,"AM","Operator family","Applicable types"),
a&&u(n,`,
  pg_catalog.pg_get_userbyid(f.opfowner) AS "%s"
`,"Owner"),i(n,`
FROM pg_catalog.pg_opfamily f
  LEFT JOIN pg_catalog.pg_am am on am.oid = f.opfmethod
  LEFT JOIN pg_catalog.pg_namespace n ON n.oid = f.opfnamespace
`),t){if(r={value:r},!D(n,t,!1,!1,null,"am.amname",null,null,r,1))return!1;r=r.value}
if(s){if(u(n,`  %s EXISTS (
    SELECT 1
    FROM pg_catalog.pg_type t
    JOIN pg_catalog.pg_opclass oc ON oc.opcintype = t.oid
    LEFT JOIN pg_catalog.pg_namespace tn ON tn.oid = t.typnamespace
    WHERE oc.opcfamily = f.oid
`,r?"AND":"WHERE"),!D(n,s,!0,!1,"tn.nspname","t.typname","pg_catalog.format_type\
(t.oid, NULL)","pg_catalog.pg_type_is_visible(t.oid)",null,3))return!1;i(n,`  )
`)}return i(n,"ORDER BY 1, 2;"),l=await O(n.data),l?(e.nullPrint=null,e.title="L\
ist of operator families",e.translate_header=!0,e.translate_columns=d,e.n_translate_columns=
P(d),w(l,e,o.queryFout,!1,o.logfile),!0):!1}async function Nt(t,s,a){let n={},l,
e=o.popt,r=!1,d=[!1,!1,!1,!1,!1,!1];if(A(n),_(n,`SELECT
  am.amname AS "%s",
  CASE
    WHEN pg_catalog.pg_opfamily_is_visible(of.oid)
    THEN pg_catalog.format('%%I', of.opfname)
    ELSE pg_catalog.format('%%I.%%I', nsf.nspname, of.opfname)
  END AS "%s",
  o.amopopr::pg_catalog.regoperator AS "%s"
,  o.amopstrategy AS "%s",
  CASE o.amoppurpose
    WHEN 'o' THEN '%s'
    WHEN 's' THEN '%s'
  END AS "%s"
`,"AM","Operator family","Operator","Strategy","ordering","search","Purpose"),a&&
u(n,`, ofs.opfname AS "%s"
`,"Sort opfamily"),i(n,`FROM pg_catalog.pg_amop o
  LEFT JOIN pg_catalog.pg_opfamily of ON of.oid = o.amopfamily
  LEFT JOIN pg_catalog.pg_am am ON am.oid = of.opfmethod AND am.oid = o.amopmeth\
od
  LEFT JOIN pg_catalog.pg_namespace nsf ON of.opfnamespace = nsf.oid
`),a&&i(n,`  LEFT JOIN pg_catalog.pg_opfamily ofs ON ofs.oid = o.amopsortfamily
`),t){if(r={value:r},!D(n,t,!1,!1,null,"am.amname",null,null,r,1))return!1;r=r.value}
return s&&!D(n,s,r,!1,"nsf.nspname","of.opfname",null,null,null,3)||(i(n,`ORDER \
BY 1, 2,
  o.amoplefttype = o.amoprighttype DESC,
  pg_catalog.format_type(o.amoplefttype, NULL),
  pg_catalog.format_type(o.amoprighttype, NULL),
  o.amopstrategy;`),l=await O(n.data),!l)?!1:(e.nullPrint=null,e.title="List of \
operators of operator families",e.translate_header=!0,e.translate_columns=d,e.n_translate_columns=
P(d),w(l,e,o.queryFout,!1,o.logfile),!0)}async function Lt(t,s,a){let n={},l,e=o.
popt,r=!1,d=[!1,!1,!1,!1,!1,!1];if(A(n),_(n,`SELECT
  am.amname AS "%s",
  CASE
    WHEN pg_catalog.pg_opfamily_is_visible(of.oid)
    THEN pg_catalog.format('%%I', of.opfname)
    ELSE pg_catalog.format('%%I.%%I', ns.nspname, of.opfname)
  END AS "%s",
  pg_catalog.format_type(ap.amproclefttype, NULL) AS "%s",
  pg_catalog.format_type(ap.amprocrighttype, NULL) AS "%s",
  ap.amprocnum AS "%s"
`,"AM","Operator family","Registered left type","Registered right type","Number"),
a?u(n,`, ap.amproc::pg_catalog.regprocedure AS "%s"
`,"Function"):u(n,`, p.proname AS "%s"
`,"Function"),i(n,`FROM pg_catalog.pg_amproc ap
  LEFT JOIN pg_catalog.pg_opfamily of ON of.oid = ap.amprocfamily
  LEFT JOIN pg_catalog.pg_am am ON am.oid = of.opfmethod
  LEFT JOIN pg_catalog.pg_namespace ns ON of.opfnamespace = ns.oid
  LEFT JOIN pg_catalog.pg_proc p ON ap.amproc = p.oid
`),t){if(r={value:r},!D(n,t,!1,!1,null,"am.amname",null,null,r,1))return!1;r=r.value}
return s&&!D(n,s,r,!1,"ns.nspname","of.opfname",null,null,null,3)||(i(n,`ORDER B\
Y 1, 2,
  ap.amproclefttype = ap.amprocrighttype DESC,
  3, 4, 5;`),l=await O(n.data),!l)?!1:(e.nullPrint=null,e.title="List of support\
 functions of operator families",e.translate_header=!0,e.translate_columns=d,e.n_translate_columns=
P(d),w(l,e,o.queryFout,!1,o.logfile),!0)}async function mt(t){let s={},a,n=o.popt;
return A(s),_(s,`SELECT oid as "%s",
  pg_catalog.pg_get_userbyid(lomowner) as "%s",
  `,"ID","Owner"),t&&(await V(s,"lomacl"),i(s,`,
  `)),u(s,`pg_catalog.obj_description(oid, 'pg_largeobject') as "%s"
FROM pg_catalog.pg_largeobject_metadata
ORDER BY oid`,"Description"),a=await O(s.data),a?(n.nullPrint=null,n.title="Larg\
e objects",n.translate_header=!0,w(a,n,o.queryFout,!1,o.logfile),!0):!1}
